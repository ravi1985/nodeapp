{"version":3,"sources":["components/form/Search.jsx","actions/products/index.jsx","containers/Products/Forms.jsx","components/productimize/FabricFunction.jsx","components/form/SetOptionPosition.jsx","components/form/SetTabPosition.jsx","components/form/SetBoundary.jsx","containers/Products/Attribute/Options.jsx","containers/Products/Attribute/Cliparts.jsx","containers/Products/Attribute/Image.jsx","containers/Products/Attribute/Text.jsx","components/form/inputMultple.jsx","containers/Products/subTab.jsx","containers/Products/tab.jsx","containers/Products/sectionForm.jsx","containers/Products/edit.jsx","assets/images/no-data.png"],"names":["Search","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","type","value","this","props","onChange","placeholder","name","Component","get","id","types","concat","PRODUCT","PENDING","FULFILLED","REJECTED","method","url","data","payload","receiveType","save","Object","_var_www_html_productimize_react_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","modelName","idKey","promize_customizer_id","saveSection","promize_section_id","SECTION","saveTab","promize_tab_id","created_date","updated_date","TAB","updateBulkRecord","saveSubTab","promize_sub_tab_id","SUB_TAB","deleteRecord","saveTabAttribute","promize_tab_attribute_id","TAB_ATTRIBUTE","saveTabAttributeValues","promize_tab_attribute_values_id","TAB_ATTRIBUTE_VALUES","linkTabAttributeValues","TAB_ATTRIBUTE_VALUES_LIST","linkTabAttributeClipartValues","uploadBaseImage","file","typeName","formData","FormData","append","IMAGE_UPLOAD","requestBodyType","uploadTabImage","uploadTabThumbnailImage","TAB_THUMBNAIL_IMAGE","initialState","fields","domain_id","app","DOMAIN_ID","promize_customizer_name","status","model_image","overlay_image","overlay_position","inputErrors","isEdit","validation","Forms","_this","_var_www_html_productimize_react_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_var_www_html_productimize_react_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_var_www_html_productimize_react_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","closePopup","e","preventDefault","setState","popup","delete","deleteView","state","views","view_name","image_url","file_name","handleClickOutside","bind","_var_www_html_productimize_react_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","$","show","hide","newObj","assign","updateView","saveView","hideAddViewPopup","toastr","error","target","imageUpload","response","handleUploadedImage","document","addEventListener","removeEventListener","event","classList","contains","removeClass","addClass","path","index","_this2","react__WEBPACK_IMPORTED_MODULE_6___default","style","display","_components_form_input__WEBPACK_IMPORTED_MODULE_12__","fieldName","labelName","handleViewNameChange","_components_files_ImageUpload__WEBPACK_IMPORTED_MODULE_15__","dataName","imageType","header","onClick","handleUploadView","src","noImages","_this3","Fragment","onSubmit","form","handleProductSubmit","showAddViewPopup","length","displayNoImage","map","key","openImageOptions","title","handleEdit","APP_IMAGE_BASE_URL","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","to","_components_form_SubmitButton__WEBPACK_IMPORTED_MODULE_13__","text","product","addView","_components_design_Popup__WEBPACK_IMPORTED_MODULE_17__","submitButton","cancel","connect","FabricFunction","canvas","classCallCheck","_objects","_","find","SetOptionPosition","_controlPoints","possibleConstructorReturn","getPrototypeOf","position","left","top","width","height","scaleX","scaleY","angle","controlPoints","cornerSize","hasControls","borderColor","cornerColor","cornerStyle","transparentCorners","defineProperty","currentView","fabricFunction","getInstance","optionView","optionViewPosition","modelImage","tabAttributeValueData","setOptionPosition","console","log","option_images","JSON","parse","option_position","handleInputChange","assertThisInitialized","addBaseImage","addOptionImage","positionChangeCallback","_this$state","baseImage","fabric","Canvas","selection","controlsAboveOverlay","centeredScaling","allowTouchScrolling","on","productimizeType","animate","renderAll","setCanvas","modelId","image","optionData","ele","promize_images_id","setOptionImage","callBack","clear","Image","fromURL","baseImageObject","set","selectable","setHeight","setWidth","originX","originY","add","findByName","warning","uploadedImage","_this$state2","currnetModelImage","_optionViewPosition$c","uploadedImageObject","objectSpread","lockUniScaling","opacity","_this$state3","obj","_this$state4","boundReact","getBoundingRect","x","y","getScaledWidth","getScaledHeight","lockScaling","_this3$state","complete","trigger","_this$state5","object","parseInt","changeCanvasData","xpos","ypos","_this$state6","actualWidth","ratio","actualHeight","_this$state7","onComplete","setCoords","_this4","_this4$state","changeView","_this$state8","updateTabAttributeValues","stringify","success","_this$state9","optionImageObj","remove","_this5","optionViewImageId","values","react_default","promize_images","active","indexOf","_this6","_this7","_this8","form_input","inputType","disabled","js_default","maxValue","minValue","handleInputRangeChange","onChangeComplete","_this9","thumbnail","canvasControls","prevView","nextView","deleteButton","imageCollection","submit","SetTabPosition","tabData","setTabPosition","tabImages","tabImagesPosition","tab_images","tab_images_position","addTabImage","isFetching","isError","handleTabImage","setTabImage","_tabImagesPosition$cu","updateTabImages","tabImageObj","ImageUpload","imageForm","SetBoundary","overlay","clipRect","Rect","fill","addBoundary","rect","addOverlayImage","rectRed","imageWidth","imageHeight","hasRotatingPoint","clipPath","setBoundary","Options","toggle","promize_attribute_values","tab_attribute_values","tab_attribute_data_values","attribute_name","deleteAttributeFromTab","promize_attribute_id","tab_id","class","keys","promize_attribute_values_id","img_data","image_type","push","option_name","option_code","alt","option_sku","option_price","openSetOptionPositionPopup","Cliparts","clipartList","getAssociatedClipart","promize_attribute_clipart_values","promize_domain_clipart_category_id","split","dispatch","clipart","isEmpty","openSetBoundaryPopup","promize_attribute_clipart_values_id","clipart_images","promize_clipart_category_images","clipartImg","promize_product_clipart_image","noData","clipart_name","promize_attribute_image_values","promize_attribute_image_values_id","image_name","image_price","image_sku","image_format","max_upload_size","min_upload_size","Text","fontSizes","fonts","fontColors","getAllFontSizes","getAllFonts","getAllFontColors","fontsList","font_id","fontsizes","font_size_id","fontcolors","promize_font_color_id","promize_attribute_text_values","tab_text_attribute_values","promize_attribute_text_values_id","font_ids","font_size_ids","font_color_ids","default_font_family","font_name","font","default_font_size","font_size","default_color","font_color_name","InputMultple","message","classValidation","classNameCheck","htmlFor","step","inputStep","data-type","dataType","data-name","onBlur","blurEventListner","handleFieldsChange","data-validation-name","maxLength","rows","input","React","Subtab","highlight","onDragOver","ev","dataTransfer","dropEffect","onDragLeave","onDrop","sectIndex","tabIndex","_this$props","subTabIndex","parentTabData","tab_style","draggable","onDragStart","onSubTabDragStart","onSubTabDragOver","onSubTabDrop","tab_name","actionButtons","handleFieldBlur","handleFieldChange","for","tab_layer_no","switchtoggle","tab_required","spanLabel","first","second","checkValue","handleSwitchChange","is_default_tab","inputMultple","tab_description","setDate","setCurrentTab","tabThumbnailImages","tab_icon","radioButton","label","onChangeHandler","handleStyleFieldBlur","handleStyleFieldChange","tab_attribute","tabAttributeData","tab_attribute_data_image_values","tab_attribute_data_text_values","tab_attribute_data_clipart_values","attribute_type","Attribute_Options","default_option","Attribute_Cliparts","Attribute_Text","Attribute_Image","Tabs","getTabContent","Products_subTab","hightlight","subTabHide","displayTab","openTab","tabs","indexVal","sorted_sub_tabs","promize_sub_tabs","sort","b","sort_id","is_sub_tab","onTabDragStart","onTabDragOver","onTabDragEnter","onTabDrop","promize_tab_attributes","onAttributeDragStart","onAttributeDragOver","onAttributeDrop","subTabData","subTab","child_tab_id","sectionvalidation","section_name","SectionForms","setRef","ref","sectionRefs","content","deleteAttributeFromTabFn","deleteIndex","selectedTab","tab_attributes","tab_attr","ids","getAttribute","item","reorder","setData","effectAllowed","dropIndex","getData","attributes","addAttributeToTab","startIndex","othertabs","tabsObject","tabState","list","orderedTabs","reorderTabInSection","Obj","orderedAttributes","reorderAttributeInTab","reorderSubTabInTab","deleteTabFromsectionFn","parentTabId","filter","editSection","keyData","sectionX","getBoundingClientRect","sectionWrapperX","refs","sectionEdit","sections","section_id","section","saveSectionEdit","sectionDelete","sectionDeletefn","sectionIndex","activeSectionId","tab","image_color_settings","tab_thumbnail","default_view","selectedTabs","selectedSubTabs","currnetTabId","searchText","Form","tabImage","productDetails","promize_sections","promize_tabs","tab_index","attribute","attr_index","promize_attribute","attributeData","promize_tab_attribute_values","tab_attr_value","promize_tab_text_attribute_values","promize_tab_text_attribute_values_id","promize_tab_image_attribute_values","tab_image_attribute_values","promize_tab_image_attribute_values_id","createTab","saveSectionToState","saveTabToState","saveTabAttributeToState","saveTabAttributeValuesList","getAllAttributes","new","_this$refs","sectionContainer","sectionAddBtn","sectionContainerBoundBox","sectionAddBtnBoundBox","sectionWrapperWidth","newProps","records","parent_tab_id","saveSubTabToState","tabAttribute","tabAttributevalueslist","tabAttributevalues","tabThumbnailImage","saveTabImage","sectionData","sectionsData","undefined","o","tabAttributeValues","tempObj","promize_tab_clipart_attribute_values_id","tabdata","subtabs","sub_tabs","selectedsub_tabs","includes","closeTabSelectionPopup","endIndex","result","Array","from","counter","_result$splice","splice","removed","slicedToArray","_result$splice3","_result$splice5","subTabs","checked","checkedVal","_this10","openTabSelectionPopup","openSetTabPositionPopup","deleteTabFromsection","_this11","CheckBox","currentComponent","dataList","selectedSubtab","addSubTabToTab","Products_tab","displayNoData","selectedTabsList","activeSection","_this12","tabsArray","entries","addSection","tabKey","addSelectedtab","icon","_this13","toLowerCase","react_router_dom","attributeIcon","history","_this14","saveData","form_SetOptionPosition","form_SetTabPosition","form_SetBoundary","addSectionArea","displayAttributeList","Popup","Edit","_var_www_html_productimize_react_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_var_www_html_productimize_react_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_var_www_html_productimize_react_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","formValidation","_var_www_html_productimize_react_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","view","viewList","openSection","sectValidation","match","params","record","pick","generateUnqId","findIndex","n","react__WEBPACK_IMPORTED_MODULE_7___default","_components_form_switchtoggle__WEBPACK_IMPORTED_MODULE_17__","_Forms__WEBPACK_IMPORTED_MODULE_12__","reset","_sectionForm__WEBPACK_IMPORTED_MODULE_14__","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/10.d2ddae96.chunk.js","sourcesContent":["import React, { Component } from 'react';\n/*Handling events with React elements is very similar to handling events on DOM elements\n    * Inside a loop it is common to want to pass an extra parameter to an event handler.\n    *the e argument representing the React event will be passed as a second argument after the ID. \n    *With an arrow function, we have to pass it explicitly, \n    *but with bind any further arguments are automatically forwarded\n    *The bind() method creates a new function that, when called, has its this keyword set to the provided value\n    *An arrow function expression has a shorter syntax than a function expression and does not have its own this, arguments, super, or new.target\n    */\nclass Search extends Component {\n    render() {\n        return <div className=\"search-container\">\n            <input type=\"text\" value={this.props.value || ''} onChange={this.props.onChange} className=\"promize-form-control\" placeholder=\"Search.. \" name=\"searchVal\" />\n            <i className=\"fa fa-search\"></i>\n        </div>\n    }\n\n}\n\nexport default Search;","import { \n    PENDING, FULFILLED, REJECTED,\n    PRODUCT, IMAGE_UPLOAD,TAB_THUMBNAIL_IMAGE, SECTION, TAB, TAB_ATTRIBUTE,TAB_ATTRIBUTE_VALUES,TAB_ATTRIBUTE_VALUES_LIST, SUB_TAB\n} from \"../../utility/constants\";\n/**\n * get the customizer product details\n * @param {Number} id \n */\nexport function get(id){\n    const method = 'POST';\n    return {\n        types: [`${PRODUCT}_${PENDING}`, `${PRODUCT}_${FULFILLED}`, `${PRODUCT}_${REJECTED}`],\n        method: method,\n        url: 'getProductWithPK/',\n        data: {\n            id\n        },\n        payload: {receiveType:'editData'}\n    }\n}\n/**\n * Create/Update the customizer product\n * @param {Object} data \n */\nexport function save(data){\n    let method = 'POST';\n    data = {\n        ...data,\n        modelName:\"promize_customizer\",\n        idKey:\"promize_customizer_id\"\n    }\n    let url = 'createRecord'\n\tif(data.promize_customizer_id){\n        method = 'PUT'\n        url = 'updateRecord'\n\t}\n    return {\n        types: [`${PRODUCT}_${PENDING}`, `${PRODUCT}_${FULFILLED}`, `${PRODUCT}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\nexport function saveSection(data){\n    data = {\n        ...data,\n        modelName:\"promize_section\",\n        idKey:\"promize_section_id\"\n    }\n\tlet method = 'POST';\n    let url = 'createRecord'\n\tif(data.promize_section_id){\n        method = 'PUT';\n        url = 'updateRecord'\n\t}\n    return {\n        types: [`${SECTION}_${PENDING}`, `${SECTION}_${FULFILLED}`, `${SECTION}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\nexport function saveTab(data){\n    data = {\n        ...data,\n        modelName:\"promize_tab\",\n        idKey:\"promize_tab_id\",\n    }\n    let method = 'POST';\n    let url = 'createRecord'\n\tif(data.promize_tab_id){\n        method = 'PUT';\n        url = 'updateRecord'\n        delete data.created_date;\n        delete data.updated_date;\n\t}\n    return {\n        types: [`${TAB}_${PENDING}`, `${TAB}_${FULFILLED}`, `${TAB}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\nexport function updateBulkRecord(data){\n    let method = 'POST';\n    let url = 'updateBulkRecord'\n    return {\n        types: [`${TAB}_${PENDING}`, `${TAB}_${FULFILLED}`, `${TAB}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'editData'}\n    }\n}\n\nexport function saveSubTab(data){\n    data = {\n        ...data,\n        modelName:\"promize_sub_tab\",\n        idKey:\"promize_sub_tab_id\",\n    }\n    let method = 'POST';\n    let url = 'createRecord'\n\tif(data.promize_sub_tab_id){\n        method = 'PUT';\n        url = 'updateRecord'\n\t}\n    return {\n        types: [`${SUB_TAB}_${PENDING}`, `${SUB_TAB}_${FULFILLED}`, `${SUB_TAB}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\n\nexport function deleteRecord(data){\n    return {\n        types: [`${TAB}_${PENDING}`, `${TAB}_${FULFILLED}`, `${TAB}_${REJECTED}`],\n        method: \"DELETE\",\n        url: \"deleteRecord\",\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\n\nexport function saveTabAttribute(data){\n    data = {\n        ...data,\n        modelName:\"promize_tab_attribute\",\n        idKey:\"promize_tab_attribute_id\"\n    }\n    let method = 'POST'\n    let url = 'createRecord'\n\tif(data.promize_tab_attribute_id){\n        method = 'PUT'\n        url = 'updateRecord'\n\t}\n    return {\n        types: [`${TAB_ATTRIBUTE}_${PENDING}`, `${TAB_ATTRIBUTE}_${FULFILLED}`, `${TAB_ATTRIBUTE}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\nexport function saveTabAttributeValues(data){\n    data = {\n        ...data,\n        modelName:\"promize_tab_attribute_values\",\n        idKey:\"promize_tab_attribute_values_id\"\n    }\n    let method = 'POST'\n    let url = 'createRecord'\n\tif(data.promize_tab_attribute_values_id){\n        method = 'PUT'\n        url = 'updateRecord'\n\t}\n    return {\n        types: [`${TAB_ATTRIBUTE_VALUES}_${PENDING}`, `${TAB_ATTRIBUTE_VALUES}_${FULFILLED}`, `${TAB_ATTRIBUTE_VALUES}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\n\nexport function saveTabAttributeTextValues(data){\n    data = {\n        ...data,\n        modelName:\"promize_tab_text_attribute_values\",\n        idKey:\"promize_tab_text_attribute_values_id\"\n    }\n    let method = 'POST'\n    let url = 'createRecord'\n\tif(data.promize_tab_attribute_values_id){\n        method = 'PUT'\n        url = 'updateRecord'\n\t}\n    return {\n        types: [`${TAB_ATTRIBUTE_VALUES}_${PENDING}`, `${TAB_ATTRIBUTE_VALUES}_${FULFILLED}`, `${TAB_ATTRIBUTE_VALUES}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\n\nexport function linkTabAttributeValues(data){\n    let method = 'POST'\n    let url = 'linkTabAttributeValues'\n    return {\n        types: [`${TAB_ATTRIBUTE_VALUES_LIST}_${PENDING}`, `${TAB_ATTRIBUTE_VALUES_LIST}_${FULFILLED}`, `${TAB_ATTRIBUTE_VALUES_LIST}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\nexport function linkTabAttributeClipartValues(data){\n    let method = 'POST'\n    let url = 'createBulkRecord'\n    return {\n        types: [`${TAB_ATTRIBUTE_VALUES_LIST}_${PENDING}`, `${TAB_ATTRIBUTE_VALUES_LIST}_${FULFILLED}`, `${TAB_ATTRIBUTE_VALUES_LIST}_${REJECTED}`],\n        method: method,\n        url: url,\n        data: data,\n        payload: {receiveType:'postData'}\n    }\n}\n\nexport function uploadBaseImage(file,typeName,name){\n    /**\n     * Upload image async action creators\n     * Hanlde the Pending, Fullfilled (Success), Rejected actions\n     *\n     * @return object\n     */\n\tconst formData = new FormData();\n    formData.append('file',file);\n    formData.append('name', typeName);\n    return {\n        types: [`${IMAGE_UPLOAD}_${PENDING}`, `${IMAGE_UPLOAD}_${FULFILLED}`, `${IMAGE_UPLOAD}_${REJECTED}`],\n        method: 'POST',\n        requestBodyType:'FormData',\n        url: 'uploadBaseImage',\n        data: formData,\n        payload: {receiveType:'postData'}\n    }\n}\n\n\nexport function uploadTabImage(file, typeName) {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('name', typeName);\n    return {\n        types: [`${IMAGE_UPLOAD}_${PENDING}`, `${IMAGE_UPLOAD}_${FULFILLED}`, `${IMAGE_UPLOAD}_${REJECTED}`],\n        method: 'POST',\n        requestBodyType: 'FormData',\n        url: 'uploadTabImage',\n        data: formData,\n        payload: { receiveType: 'postData' }\n    }\n}\n\nexport function uploadTabThumbnailImage(file, typeName) {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('name', typeName);\n    return {\n        types: [`${TAB_THUMBNAIL_IMAGE}_${PENDING}`, `${TAB_THUMBNAIL_IMAGE}_${FULFILLED}`, `${TAB_THUMBNAIL_IMAGE}_${REJECTED}`],\n        method: 'POST',\n        requestBodyType: 'FormData',\n        url: 'uploadTabImage',\n        data: formData,\n        payload: { receiveType: 'postData' }\n    }\n}","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport toastr from 'toastr';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport _ from 'lodash';\nimport Input from '../../components/form/input';\nimport { SubmitButton } from \"../../components/form/SubmitButton\";\nimport { app } from '../../config/app';\nimport ImageUpload from '../../components/files/ImageUpload';\nimport noImages from '../../assets/images/no-image.png';\nimport Popup from '../../components/design/Popup'\n\nexport function initialState() {\n    const initialState = {\n        fields:\n        {\n            \"domain_id\": app.DOMAIN_ID,\n            \"modelName\" : \"promize_customizer\",\n            \"promize_customizer_id\": \"\",\n            \"promize_customizer_name\": \"\",\n            \"status\": true,\n            \"model_image\": [],\n            \"overlay_image\" : '',\n            \"overlay_position\" : '' \n        },\n        inputErrors: {},\n        isEdit: true,\n    };\n\n    return initialState;\n}\n\nexport const validation = (props) => {\n    const rules = {\n        \"promize_customizer_name\": \"required\",\n    }\n    return rules;\n}\n\nexport const sectionValidation = (props) => {\n    const rules = {\n        \"section_name\": \"required\",\n    }\n    return rules;\n}\n\nclass Forms extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            views: {\n                'view_name': '',\n                'image_url': '',\n                'file_name': ''\n            },\n        }\n        this.handleClickOutside = this.handleClickOutside.bind(this);\n    }\n    showAddViewPopup(e) {\n        e.preventDefault();\n        this.setState({views:{\n            'view_name': '',\n            'image_url': '',\n            'file_name': ''\n        }},()=>{\n            $('.promize-modal-cover').show();\n        })\n    }\n    hideAddViewPopup(e) {\n        e.preventDefault();\n        $('.promize-modal-cover').hide();\n        const views = this.state.views;\n        const newObj = Object.assign({}, views, {\n            view_name: '',\n            image_url: '',\n            file_name: ''\n        });\n        this.setState({ views: newObj });\n    }\n    handleUploadView(e) {\n        e.preventDefault();\n        const views = this.state.views;\n        if (views.view_name && views.image_url) {\n            if(!views.id){\n                this.props.saveView(views);\n            }else{\n                this.props.updateView(views.id,views);\n            }\n            this.hideAddViewPopup(e);\n        } else {\n            toastr.error(\"Add view name and base image\");\n        }\n    }\n    handleViewNameChange(e) {\n        e.preventDefault();\n        let fields = this.state.views;\n        const newObj = Object.assign({}, fields, {\n            view_name: e.target.value\n        });\n        fields = newObj;\n        this.setState({ views: fields });\n    }\n    handleEdit(views){\n        this.setState({views},()=>{\n            $('.promize-modal-cover').show();\n        })\n    }\n    componentWillReceiveProps(props) {\n        if (props.imageUpload.response !== this.props.imageUpload.response) {\n            this.handleUploadedImage(props);\n        }\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleClickOutside(event) {\n        if (!event.target.classList.contains('btn-popup')) {\n            $('.portlet-dropdown-menu').removeClass('show');\n            $('.portlet-dropdown-menu').addClass('hide');\n        }\n    }\n\n    handleUploadedImage(props) {\n        const response = props.imageUpload.response;\n        if (response.status && response.status === 200) {\n            const fields = this.state.views;\n            let newObj = Object.assign({}, fields, {\n                image_url: response.file.path,\n            });\n            this.setState({ views: newObj });\n        }\n    }\n    openImageOptions(e, index) {\n        e.preventDefault();\n        $('.index-' + index).removeClass('hide');\n        $('.index-' + index).addClass('show');\n    }\n\n    addView() {\n        return (<div className=\"promize-modal-cover\" style={{ \"display\": \"none\" }}>\n            <div className=\"promize-modal modal-sm\">\n                <div className=\"promize-modal-header\">\n                    <h3 className=\"modal-title\">\n                        <span>\n                            Add New View\n                        </span>\n                    </h3>\n                </div>\n                <div className=\"promize-modal-body\">\n                    <div className=\"promize-form-group mt-10\">\n                        <Input {...this.props}\n                            fieldName={'view_name'}\n                            value={this.state.views.view_name}\n                            labelName={\"View Name\"}\n                            onChange={(e) => { this.handleViewNameChange(e) }}\n                            validation={true}\n                        />\n                    </div>\n                    <ImageUpload {...this.props}\n                        labelName={\"View Image\"}\n                        fieldName={'image_file'}\n                        dataName={'image_file'}\n                        validation={false}\n                        imageType={\"base_image\"}\n                        image_url={this.state.views.image_url}\n                        header={'View Image'}\n                        value={this.state.views.file_name}\n                    />\n                </div>\n                <div className=\"promize-modal-footer df df-end\">\n                    <button className=\"btn btn-promize-secondary\" onClick={(e) => { this.hideAddViewPopup(e) }}>Cancel</button>\n                    <button className=\"btn btn-promize-primary\" onClick={(e) => { this.handleUploadView(e) }}>Upload</button>\n                </div>\n            </div>\n        </div>\n        )\n    }\n    displayNoImage() {\n        return <div className=\"promize-no-data\">\n            <img src={noImages} />\n            <p className=\"mt-10\">No Views available</p>\n        </div>\n    }\n    /**\n     * Close popup\n     * @param {Html | Object} e \n     */\n    closePopup = (e) => {\n        e && e.preventDefault();\n        this.setState({ popup: false })\n    }\n    delete = (e, data) => {\n        let popup = {};\n        popup.title = \"Remove View\";\n        popup.content = 'Do you want to remove this view?';\n        popup.submit = () => {\n            this.props.deleteView(data.id)\n        }\n        this.setState({ popup })\n    }\n    render() {\n        return <>\n        <form onSubmit={this.props.form.handleProductSubmit} method=\"POST\">\n            <div className=\"promize-card-body\">\n                <div className=\"df\">\n                    <div className=\"wd-30\">\n                        <Input {...this.props}\n                            fieldName={'promize_customizer_name'}\n                            value={this.props.state.fields.promize_customizer_name}\n                            labelName={\"Product Name\"}\n                            validation={true}\n                        />\n                    </div>\n                </div>\n                <div className=\"promize-card-header promize-card-innerheader\">\n                    <div className=\"promize-card-title\">\n                        <h3>\n                            <span>Views</span>\n                        </h3>\n                    </div>\n                    <div className=\"promize-card-action df-end\">\n                        <div className=\"tab-links\">\n                            <button className=\"btn btn-links\" onClick={(e) => { this.showAddViewPopup(e) }}><i className=\"fa fa-plus\"></i> Add View</button>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"promize-tab-option-container\">\n                    {this.props.state.fields.model_image && this.props.state.fields.model_image.length == 0 && this.displayNoImage()}\n                    {this.props.state.fields.model_image && this.props.state.fields.model_image.length > 0 &&\n                        <ul className=\"promize-tab-options\">\n                            {this.props.state.fields.model_image.map((data, index) => {\n                                return <li key={index} className=\"mr-15 mb-15\">\n                                    <div className=\"promize-tab-options-detail\">\n                                        <div className=\"promize-tab-option-header\">\n                                            <p className=\"tab-option-title\">{data.view_name}</p>\n                                            <div className=\"pormize-portlet-dropdown\">\n                                                <button className=\"btn button-dropdown\" onClick={(e) => this.openImageOptions(e, index)}><i className=\"fa fa-ellipsis-v\" ></i></button>\n                                                <div className={\"portlet-dropdown-menu index-\" + index}>\n                                                    <ul className=\"portlet-menu\">\n                                                        <li><button type=\"button\" className=\"btn btn-tbl btn-popup\" title=\"Edit\" onClick={e => this.handleEdit(data)}><i className=\"fa fa-pencil-alt\"></i> Edit</button></li>\n                                                        <li><button type=\"button\" className=\"btn btn-tbl btn-popup\" title=\"Delete\" onClick={e => this.delete(e, data)}><i className=\"fa fa-trash-alt\"></i> Delete</button></li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"tab-option-container\">\n                                            <img src={app.APP_IMAGE_BASE_URL + data.image_url} />\n                                        </div>\n                                    </div>\n                                </li>\n                            })}\n                        </ul>}\n\n                </div>\n            </div>\n            <div className=\"promize-footer-actions\">\n                <NavLink to=\"/products\" className=\"btn btn-promize-secondary\">{\"Cancel\"}</NavLink>\n                <SubmitButton className=\"btn btn-promize-primary\" text={\"Next\"} response={this.props.product} />\n            </div>\n            {this.addView()}\n        </form>\n        {this.state.popup && <Popup {...this.state.popup} submitButton=\"Remove\" cancel={this.closePopup} />}\n        </>\n\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        imageUpload: state.imageUpload,\n    };\n}\n\nexport default connect(mapStateToProps)(Forms);","import _ from 'lodash';\nclass FabricFunction{\n    static getInstance(canvas) {\n        return new FabricFunction(canvas);\n    }\n    /**\n     * Create Fabric Function\n     * \n     * @param {Fabric Canvas | Object} canvas Fabric js canvas\n     */\n    constructor(canvas){\n        this.canvas = canvas\n    }\n    setCanvas(canvas){\n        this.canvas = canvas \n    }\n    /**\n     * find the Object from the fabric canvas using the object name\n     * @param {string} name the object name\n     */\n    findByName(name){\n        let {canvas} = this\n        if(canvas && canvas._objects){\n           return _.find(canvas._objects, ['name', name]);\n        }\n    }\n    /**\n     * find the Object from the fabric canvas using the object id\n     * @param {string | number} id the object id\n     */\n    findById(id){\n        let {canvas} = this\n        if(canvas && canvas._objects){\n           return _.find(canvas._objects, ['id', id]);\n        }\n    }\n}\n\nexport default FabricFunction;","/**\n * Todo:\n *  - Need to merge the set Option Opition and set Tab option file common\n * \n */\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport Input from './input';\nimport { fabric } from 'fabric';\nimport FabricFunction from '../productimize/FabricFunction'\nimport { app } from \"../../config/app\"\nimport InputRange from 'react-input-range'\nimport 'react-input-range/lib/css/index.css'\nimport toastr from 'toastr'\nexport const sectionvalidation = (props) => {\n    const rules = {\n        \"section_name\": \"required\",\n    }\n    return rules;\n}\nclass SetOptionPosition extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            position: {\n                left: 0,\n                top: 0,\n                width: 0,\n                height: 0,\n                scaleX: 1,\n                scaleY: 1,\n                angle: 0\n            },\n            fields: '',\n            controlPoints: {\n                cornerSize: 12,\n                hasControls: true,\n                borderColor: '#0032cc',\n                cornerColor: '#06f',\n                cornerStyle: \"circle\",\n                transparentCorners: false,\n                hasControls: true,\n                padding: \"3\",\n                selectable: true,\n                hasRotatingPoint: false\n            },\n            currentView: 0,\n            canvas: {},\n            fabricFunction: FabricFunction.getInstance('')\n        }\n        let optionView = {};\n        let optionViewPosition = {};\n        let modelImage = this.props.state.fields.model_image\n        let tabAttributeValueData = this.props.setOptionPosition.data.tabAttributeValueData\n        console.log(tabAttributeValueData)\n        modelImage.map((data, index) => {\n            optionView[data.id] = \"\";\n            optionViewPosition[data.id] = \"\";\n        });\n        if (tabAttributeValueData.option_images && typeof tabAttributeValueData.option_images == \"string\") {\n            optionView = JSON.parse(tabAttributeValueData.option_images)\n        }\n        if (tabAttributeValueData.option_position && typeof tabAttributeValueData.option_position == \"string\") {\n            optionViewPosition = JSON.parse(tabAttributeValueData.option_position)\n        }\n\n        this.state.optionView = optionView\n        this.state.optionViewPosition = optionViewPosition\n        this.handleInputChange = this.handleInputChange.bind(this)\n        this.addBaseImage = this.addBaseImage.bind(this)\n        this.addOptionImage = this.addOptionImage.bind(this)\n        this.positionChangeCallback = this.positionChangeCallback.bind(this)\n    }\n    componentDidMount() {\n        let modelImage = this.props.state.fields.model_image\n        let { currentView, optionView, optionViewPosition, fabricFunction } = this.state\n        var baseImage = app.APP_IMAGE_BASE_URL + modelImage[currentView].image_url;\n        let canvas = new fabric.Canvas('canvas', {\n            selection: false,\n            controlsAboveOverlay: true,\n            centeredScaling: true,\n            allowTouchScrolling: true\n        });\n        let positionChangeCallback = this.positionChangeCallback\n        canvas.on('object:modified', function (e) {\n            if (e.target.productimizeType && e.target.productimizeType == \"optionImage\") {\n                positionChangeCallback(e.target)\n            }\n        });\n        canvas.on('object:added', function (e) {\n            if (e.target.productimizeType && e.target.productimizeType == \"optionImage\") {\n                e.target.animate(\"opacity\", 1, {\n                    onChange: canvas.renderAll.bind(canvas)\n                })\n                positionChangeCallback(e.target)\n            }\n        });\n        fabricFunction.setCanvas(canvas)\n        this.setState({\n            canvas: canvas,\n            fabricFunction: fabricFunction\n        }, () => {\n            this.addBaseImage(baseImage, () => {\n                let modelId = modelImage[currentView].id\n                if (optionView[modelId]) {\n                    let option_images = this.props.setOptionPosition.data.optionData.option_images\n                    let image = option_images.find((ele) => { return optionView[modelId] == ele.promize_images_id })\n                    let position = optionViewPosition[modelId] || \"\"\n                    this.setOptionImage(app.APP_IMAGE_BASE_URL + image.image_url, position)\n                }\n            })\n        })\n    }\n    /**\n     * add Base Image to canvas\n     * @param {object} baseImage \n     * @param {string} callBack \n     */\n    addBaseImage(baseImage, callBack) {\n        let canvas = this.state.canvas\n        canvas.clear()\n        fabric.Image.fromURL(baseImage, function (baseImageObject) {\n            baseImageObject.set({ selectable: false })\n            canvas.setHeight(baseImageObject.height);\n            canvas.setWidth(baseImageObject.width);\n            baseImageObject.set({\n                originX: \"center\",\n                originY: \"center\",\n                left: baseImageObject.width / 2,\n                top: baseImageObject.height / 2,\n            })\n            canvas.add(baseImageObject);\n            canvas.renderAll()\n            if (typeof callBack === \"function\") {\n                callBack()\n            }\n        });\n    }\n    addOptionImage(data) {\n        let { fabricFunction } = this.state\n        if (fabricFunction.findByName(\"optionImage\")) {\n            toastr.warning(\"Option Image Aleardy added to this view\")\n        } else {\n            let uploadedImage = app.APP_IMAGE_BASE_URL + data.image_url\n            let { optionView, optionViewPosition, currentView, position, controlPoints, canvas } = this.state\n            let modelImage = this.props.state.fields.model_image\n            let currnetModelImage = modelImage[currentView]\n            optionView[currnetModelImage.id] = data.promize_images_id\n            optionViewPosition[currnetModelImage.id] = position\n            let { scaleX, scaleY } = optionViewPosition[currnetModelImage.id]\n            fabric.Image.fromURL(uploadedImage, function (uploadedImageObject) {\n                uploadedImageObject.set({\n                    ...controlPoints,\n                    left: canvas.width / 2,\n                    top: canvas.height / 2,\n                    scaleX,\n                    scaleY,\n                    productimizeType: \"optionImage\",\n                    name: \"optionImage\",\n                    originX: \"center\",\n                    originY: \"center\",\n                    lockUniScaling: false,\n                    opacity: 0\n                });\n                canvas.add(uploadedImageObject);\n                canvas.renderAll()\n            });\n        }\n    }\n    /**\n     * set the option image\n     * @param {image_url} image option image url\n     * @param {object} position option image position \n     */\n    setOptionImage(image, position) {\n        let { canvas, controlPoints } = this.state\n        fabric.Image.fromURL(image, function (uploadedImageObject) {\n            uploadedImageObject.set({\n                ...controlPoints,\n                ...position,\n                productimizeType: \"optionImage\",\n                name: \"optionImage\",\n                originX: \"center\",\n                originY: \"center\",\n            });\n            canvas.add(uploadedImageObject);\n            canvas.renderAll()\n        });\n    }\n    /**\n     * call back front the fabric when scale or move the object\n     * @param {FabricObject} obj \n     */\n    positionChangeCallback(obj) {\n        let { fields, optionViewPosition, currentView } = this.state\n        let index = this.props.state.fields.model_image[currentView].id\n        optionViewPosition[index] = {\n            ...optionViewPosition[index],\n            left: obj.left,\n            top: obj.top,\n            scaleX: obj.scaleX,\n            scaleY: obj.scaleY,\n            angle: obj.angle,\n            width: obj.width,\n            height: obj.height,\n            lockUniScaling: obj.lockUniScaling\n        }\n        let boundReact = obj.getBoundingRect()\n        this.setState({\n            fields: {\n                ...fields,\n                x: obj.left - (boundReact.width / 2),\n                y: obj.top - (boundReact.height / 2),\n                width: obj.getScaledWidth(),\n                height: obj.getScaledHeight(),\n                angle: obj.angle,\n                scaleX: obj.scaleX,\n                scaleY: obj.scaleY\n            }, optionViewPosition\n        })\n    }\n    /**\n     * lock the Non uniq scaling\n     */\n    lockScaling() {\n        let { fields } = this.state\n        this.setState({ fields: { ...fields, lockScaling: !fields.lockScaling } }, () => {\n            let { canvas, fabricFunction, fields } = this.state\n            let obj = fabricFunction.findByName(\"optionImage\")\n            obj.set({ lockUniScaling: fields.lockScaling })\n            canvas.renderAll()\n        })\n    }\n    /**\n     * Handle the Range input change\n     * @param {String} name Name for the field\n     * @param {String | Number} value Value of the field\n     * @param {boolean} complete Is the slide complete or note\n     */\n    handleInputRangeChange(name, value, complete) {\n        let trigger = false\n        if (complete) {\n            trigger = true\n        }\n        let { fabricFunction, fields } = this.state\n        let object = fabricFunction.findByName(\"optionImage\");\n        let angle;\n        if (name == \"angle\") {\n            angle = (value !== '') ? parseInt(value) : 0\n            fields = {\n                ...fields,\n                angle: angle\n            }\n            this.changeCanvasData({ angle }, object, trigger)\n            this.setState({ fields: { ...fields } })\n        }\n    }\n    /**\n     * Handle the Input Change\n     * @param {HtmlEvent | object} event \n     */\n    handleInputChange(event) {\n        let { fabricFunction, fields } = this.state\n        let object = fabricFunction.findByName(\"optionImage\");\n        let xpos, ypos, scaleX, scaleY, width, height, angle;\n        if (event.target.id === 'x_position') {\n            xpos = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                x: xpos\n            }\n            let left = xpos + (object.getBoundingRect().width / 2)\n            this.changeCanvasData({ left }, object)\n        } else if ((event.target.id === 'y_position')) {\n            ypos = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                y: ypos\n            }\n            let top = ypos + (object.getBoundingRect().height / 2)\n            this.changeCanvasData({ top }, object)\n        } else if ((event.target.id === 'width')) {\n            let actualWidth = object.width;\n            width = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            scaleX = width / actualWidth\n            height = fields.height\n            scaleY = fields.scaleY\n            let ratio = scaleX / fields.scaleX\n            if (fields.lockScaling) {\n                height = fields.height * ratio\n                scaleY = fields.scaleY * ratio\n            }\n            fields = {\n                ...fields,\n                width,\n                height,\n                scaleX,\n                scaleY\n            }\n            this.changeCanvasData({ scaleX, scaleY }, object)\n        } else if ((event.target.id === 'height')) {\n            let actualHeight = object.height;\n            height = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            scaleY = height / actualHeight\n            width = fields.width\n            scaleX = fields.scaleX\n            let ratio = scaleY / fields.scaleY\n            if (fields.lockScaling) {\n                width = fields.width * ratio\n                scaleX = fields.scaleX * ratio\n            }\n            fields = {\n                ...fields,\n                width,\n                height,\n                scaleX,\n                scaleY\n            }\n            this.changeCanvasData({ scaleX, scaleY }, object)\n        } else if ((event.target.id === 'angle')) {\n            angle = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                angle: angle\n            }\n            this.changeCanvasData({ angle }, object)\n        }\n        this.setState({ fields: { ...fields } })\n    }\n    /**\n     * change the canvas values \n     * @param {object} data data to be changed\n     * @param {Fabric Canvas | object} object \n     * @param {Boolean} trigger trigger the modified event\n     */\n    changeCanvasData(data, object, trigger) {\n        let { currentView, optionViewPosition, canvas } = this.state\n        let index = this.props.state.fields.model_image[currentView].id\n        optionViewPosition[index] = {\n            ...optionViewPosition[index],\n            ...data\n        }\n        object.animate(data, {\n            onChange: canvas.renderAll.bind(canvas),\n            onComplete: function () {\n                if (trigger) {\n                    canvas.trigger('object:modified', { target: object })\n                }\n            }\n        })\n        object.setCoords();\n    }\n    /**\n     * change the view\n     * @param {Number} index \n     */\n    changeView(index) {\n        this.setState({ currentView: index, fields: '' }, () => {\n            let { optionView, optionViewPosition } = this.state\n            let modelImage = this.props.state.fields.model_image\n            var baseImage = app.APP_IMAGE_BASE_URL + modelImage[index].image_url;\n            this.addBaseImage(baseImage, () => {\n                var modelId = modelImage[index].id\n                var option_images = this.props.setOptionPosition.data.optionData.option_images\n                if (optionView[modelId]) {\n                    let image = option_images.find((ele) => { return optionView[modelId] == ele.promize_images_id })\n                    let position = optionViewPosition[modelId] || \"\"\n                    this.setOptionImage(app.APP_IMAGE_BASE_URL + image.image_url, position)\n                }\n            });\n\n        })\n    }\n    /**\n     * next View\n     */\n    nextView() {\n        let { currentView } = this.state\n        currentView = currentView + 1;\n        this.changeView(currentView)\n    }\n    /**\n     * previous View\n     */\n    prevView() {\n        let { currentView } = this.state\n        currentView = currentView - 1;\n        this.changeView(currentView)\n    }\n    /**\n     * Submit Event\n     * @param {HtmlEvent | Object} e \n     */\n    submit(e) {\n        let { optionView, optionViewPosition } = this.state\n        this.props.updateTabAttributeValues({\n            promize_tab_attribute_values_id: this.props.setOptionPosition.data.tabAttributeValueData.promize_tab_attribute_values_id,\n            option_images: JSON.stringify(optionView),\n            option_position: JSON.stringify(optionViewPosition)\n        })\n        toastr.success(\"Option Image Positions Updated\")\n        this.props.closePopup(e)\n    }\n    delete(e) {\n        e.preventDefault()\n        let { fabricFunction, optionView, optionViewPosition, currentView, canvas, fields } = this.state\n        let modelImage = this.props.state.fields.model_image\n        let optionImageObj = fabricFunction.findByName(\"optionImage\")\n        if (optionImageObj) {\n            let currnetModelImage = modelImage[currentView]\n            optionView[currnetModelImage.id] = \"\"\n            optionViewPosition[currnetModelImage.id] = \"\"\n            this.setState({ optionView, optionViewPosition, fields: \"\" })\n            toastr.success(\"The option image is removed\")\n            canvas.remove(optionImageObj)\n        }\n    }\n    /**\n     * Image Collection Section\n     */\n    imageCollection() {\n        let { optionView } = this.state\n        let optionViewImageId = Object.values(optionView)\n        return <div className=\"promize-image-collection\">\n            <div className=\"promize-img-coll df\">\n                <div className=\"promize-img-coll-detail wd-30\">\n                    <div className=\"promize-img-coll-title mb-10\">Image Collection</div>\n                    <div className=\"promize-img-coll-subtitle\">Some sample information about the sample images in followed detailed description,Some sample information about the sample images in followed detailed description.</div>\n                </div>\n                <div className=\"promize-coll-images-section df df-flow wd-70\">\n                    {this.props.setOptionPosition.data.optionData.promize_images && this.props.setOptionPosition.data.optionData.option_images.map((data, index) => {\n                        let active = (optionViewImageId.indexOf(data.promize_images_id) != -1 ? true : false)\n                        return <div className={\"promize-coll-images-items \" + (active ? \"disabled\" : \"\")} key={index} onClick={(e) => { active ? e.preventDefault() : this.addOptionImage(data) }}>\n                            <img src={app.APP_IMAGE_BASE_URL + data.image_url} />\n                        </div>\n                    })}\n                </div>\n            </div>\n        </div>\n    }\n    /**\n     * View Thmubnail Section\n     */\n    thumbnail() {\n        let { currentView } = this.state\n        let modelImage = this.props.state.fields.model_image\n        return <div className=\"promize-opt-thumb text-center\">\n            {modelImage.length > 0 && <div>\n                <ul>\n                    {modelImage.map((data, index) => {\n                        return <li key={index} onClick={e => this.changeView(index)} className={\"thumb-itm \" + (index == currentView ? \"current-item\" : \"\")}>\n                            <img src={app.APP_IMAGE_BASE_URL + modelImage[index].image_url} />\n                            <p>{modelImage[index].view_name}</p>\n                        </li>\n                    })}\n                </ul>\n            </div>\n            }\n        </div>\n    }\n    deleteButton() {\n        let { fabricFunction } = this.state\n        let optionImageObj = fabricFunction.findByName(\"optionImage\")\n        if (optionImageObj) {\n            return <button className=\"btn btn-promize-secondary\" onClick={(e) => this.delete(e)}>Delete</button>\n        }\n        return '';\n    }\n    /**\n     * Canvas Control Link X position, Y Position.....\n     */\n    canvasControls() {\n        let { fields } = this.state\n        return <React.Fragment>\n            <div className=\"promize-canvas-xy\">\n                <Input {...this.props}\n                    fieldName={'x_position'}\n                    value={fields.x || 0}\n                    labelName={\"X position\"}\n                    validation={false}\n                    inputType=\"number\"\n                    disabled={fields ? false : true}\n                    onChange={this.handleInputChange}\n                />\n                <Input {...this.props}\n                    fieldName={'y_position'}\n                    value={fields.y || 0}\n                    labelName={\"Y position\"}\n                    validation={false}\n                    disabled={fields ? false : true}\n                    inputType=\"number\"\n                    onChange={this.handleInputChange}\n                />\n            </div>\n            <div>\n                <Input {...this.props}\n                    fieldName={'angle'}\n                    value={fields.angle || 0}\n                    labelName={\"Angle\"}\n                    validation={false}\n                    disabled={fields ? false : true}\n                    inputType=\"number\"\n                    onChange={this.handleInputChange}\n                />\n                <InputRange\n                    maxValue={180}\n                    minValue={-180}\n                    disabled={fields ? false : true}\n                    value={fields.angle || 0}\n                    onChange={value => this.handleInputRangeChange('angle', value)}\n                    onChangeComplete={value => this.handleInputRangeChange('angle', value, true)} />\n            </div>\n            <div className=\"promize-canvas-hw\">\n                <Input {...this.props}\n                    fieldName={'width'}\n                    value={fields.width || 0}\n                    labelName={\"Width\"}\n                    validation={false}\n                    inputType=\"number\"\n                    disabled={fields ? false : true}\n                    onChange={this.handleInputChange}\n                />\n                <Input {...this.props}\n                    fieldName={'height'}\n                    value={fields.height || 0}\n                    labelName={\"Height\"}\n                    validation={false}\n                    inputType=\"number\"\n                    disabled={fields ? false : true}\n                    onChange={this.handleInputChange}\n                />\n                <div className=\"prop-lock-hw\"><button className={\"btn-prop-lock \" + (fields.lockScaling ? \"locked\" : \"\")} onClick={e => this.lockScaling()}><i className=\"fa fa-link\"></i></button></div>\n            </div>\n        </React.Fragment>\n    }\n    render() {\n        let { currentView } = this.state\n        let modelImage = this.props.state.fields.model_image\n        return <div className=\"promize-modal-cover-set-postion\">\n            <div className=\"promize-modal modal-lg\">\n                <div className=\"promize-modal-header\">\n                    <h3 className=\"modal-title\">\n                        <span>Option Position</span>\n                    </h3>\n                </div>\n                <div className=\"promize-modal-body\">\n                    <div className=\"promize-view-container\">\n                        {this.thumbnail()}\n                        <div className=\"promize-option-container\">\n                            <canvas id='canvas'></canvas>\n                            <div className=\"promize-set-position df df-sp-around mt-20\">\n                                {this.canvasControls()}\n                                {this.props.state.fields.model_image.length > 1 &&\n                                    <React.Fragment>\n                                        <div className={\"promize-slide-icon promize-canvas-prev-btn \" + (currentView <= 0 ? 'disabled' : '')} onClick={e => { currentView <= 0 ? e.preventDefault() : this.prevView() }}><i className=\"fa fa-angle-left\"></i></div>\n                                        <div className={\"promize-slide-icon promize-canvas-next-btn \" + (currentView >= modelImage.length - 1 ? 'disabled' : '')} onClick={e => { currentView >= modelImage.length ? e.preventDefault() : this.nextView() }}><i className=\"fa fa-angle-right\"></i></div>\n                                    </React.Fragment>\n                                }\n                            </div>\n                        </div>\n                        <div className=\"promize-stp-options\">\n                            {this.deleteButton()}\n                        </div>\n                    </div>\n                    {this.props.setOptionPosition.data.optionData && this.imageCollection()}\n                </div>\n                <div className=\"promize-modal-footer df df-end\">\n                    <button className=\"btn btn-promize-secondary\" onClick={(e) => { this.props.closePopup(e) }}>Cancel</button>\n                    <button className=\"btn btn-promize-primary\" onClick={(e) => this.submit(e)}>Submit</button>\n                </div>\n            </div>\n        </div>\n    }\n}\nexport default SetOptionPosition;\n","/**\n * Todo:\n *  -  Need to merge the set Option Opition and set Tab option file common\n * \n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport Input from './input';\nimport { fabric } from 'fabric';\nimport FabricFunction from '../productimize/FabricFunction'\nimport { app } from \"../../config/app\"\nimport InputRange from 'react-input-range'\nimport 'react-input-range/lib/css/index.css'\nimport ImageUpload from './../files/ImageUpload'\nimport toastr from 'toastr'\n\nexport const sectionvalidation = (props) => {\n    const rules = {\n        \"section_name\": \"required\",\n    }\n    return rules;\n}\nclass SetTabPosition extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            position: {\n                left: 0,\n                top: 0,\n                width: 0,\n                height: 0,\n                scaleX: 1,\n                scaleY: 1,\n                angle: 0\n            },\n            fields: '',\n            controlPoints: {\n                cornerSize: 12,\n                hasControls: true,\n                borderColor: '#0032cc',\n                cornerColor: '#06f',\n                cornerStyle: \"circle\",\n                transparentCorners: false,\n                hasControls: true,\n                padding: \"3\",\n                selectable: true,\n                hasRotatingPoint: false\n            },\n            currentView: 0,\n            canvas: {},\n            fabricFunction: FabricFunction.getInstance(\"\")\n        }\n        let modelImage = this.props.state.fields.model_image\n        let tabData = this.props.setTabPosition.data.tabData\n        let tabImages = {}\n        let tabImagesPosition = {}\n        modelImage.map((data, index) => {\n            tabImages[data.id] = \"\";\n            tabImagesPosition[data.id] = \"\";\n        });\n        if (tabData.tab_images) {\n            tabImages = JSON.parse(tabData.tab_images)\n        }\n        if (tabData.tab_images_position) {\n            tabImagesPosition = JSON.parse(tabData.tab_images_position)\n        }\n\n        this.state.tabImages = tabImages\n        this.state.tabImagesPosition = tabImagesPosition\n        this.handleInputChange = this.handleInputChange.bind(this)\n        this.addBaseImage = this.addBaseImage.bind(this)\n        this.addTabImage = this.addTabImage.bind(this)\n        this.positionChangeCallback = this.positionChangeCallback.bind(this)\n    }\n    componentWillReceiveProps(props) {\n        if (!props.imageUpload.isFetching && !props.imageUpload.isError && this.props.imageUpload.isFetching !== props.imageUpload.isFetching) {\n            this.handleTabImage(props);\n        }\n    }\n    componentDidMount() {\n        let modelImage = this.props.state.fields.model_image\n        let { currentView, tabImages, tabImagesPosition, fabricFunction } = this.state\n        var baseImage = app.APP_IMAGE_BASE_URL + modelImage[currentView].image_url;\n        let canvas = new fabric.Canvas('canvas', {\n            selection: false,\n            controlsAboveOverlay: true,\n            centeredScaling: true,\n            allowTouchScrolling: true\n        });\n        let positionChangeCallback = this.positionChangeCallback\n        canvas.on('object:modified', function (e) {\n            if (e.target.productimizeType && e.target.productimizeType == \"tabImage\") {\n                positionChangeCallback(e.target)\n            }\n        });\n        canvas.on('object:added', function (e) {\n            if (e.target.productimizeType && e.target.productimizeType == \"tabImage\") {\n                e.target.animate(\"opacity\", 1, {\n                    onChange: canvas.renderAll.bind(canvas)\n                })\n                positionChangeCallback(e.target)\n            }\n        });\n        fabricFunction.setCanvas(canvas)\n        this.setState({\n            canvas: canvas,\n            fabricFunction: fabricFunction\n        }, () => {\n            this.addBaseImage(baseImage, () => {\n                let modelId = modelImage[currentView].id\n                if (tabImages[modelId]) {\n                    let image = tabImages[modelId]\n                    let position = tabImagesPosition[modelId] || \"\"\n                    this.setTabImage(app.APP_IMAGE_BASE_URL + image, position)\n                }\n            })\n        })\n    }\n    handleTabImage(props) {\n        if (props.imageUpload && props.imageUpload.response) {\n            this.addTabImage(props.imageUpload.response.file.path)\n        }\n    }\n    /**\n     * add Base Image to canvas\n     * @param {object} baseImage \n     * @param {string} callBack \n     */\n    addBaseImage(baseImage, callBack) {\n        let canvas = this.state.canvas\n        canvas.clear()\n        fabric.Image.fromURL(baseImage, function (baseImageObject) {\n            baseImageObject.set({ selectable: false })\n            canvas.setHeight(baseImageObject.height);\n            canvas.setWidth(baseImageObject.width);\n            baseImageObject.set({\n                originX: \"center\",\n                originY: \"center\",\n                left: baseImageObject.width / 2,\n                top: baseImageObject.height / 2,\n            })\n            canvas.add(baseImageObject);\n            canvas.renderAll()\n            if (typeof callBack === \"function\") {\n                callBack()\n            }\n        });\n    }\n    addTabImage(image) {\n        let { fabricFunction } = this.state\n        if (fabricFunction.findByName(\"tabImage\")) {\n            toastr.warning(\"Tab Image Aleardy added to this view\")\n        } else {\n            let uploadedImage = app.APP_IMAGE_BASE_URL + image\n            let { tabImages, tabImagesPosition, currentView, position, controlPoints, canvas } = this.state\n            let modelImage = this.props.state.fields.model_image\n            let currnetModelImage = modelImage[currentView]\n            tabImages[currnetModelImage.id] = image\n            tabImagesPosition[currnetModelImage.id] = position\n            let { scaleX, scaleY } = tabImagesPosition[currnetModelImage.id]\n            fabric.Image.fromURL(uploadedImage, function (uploadedImageObject) {\n                uploadedImageObject.set({\n                    ...controlPoints,\n                    left: canvas.width / 2,\n                    top: canvas.height / 2,\n                    scaleX,\n                    scaleY,\n                    productimizeType: \"tabImage\",\n                    name: \"tabImage\",\n                    originX: \"center\",\n                    originY: \"center\",\n                    lockUniScaling: false,\n                    opacity: 0\n                });\n                canvas.add(uploadedImageObject);\n                canvas.renderAll()\n            });\n        }\n    }\n    /**\n     * set the Tab image\n     * @param {image_url} image option image url\n     * @param {object} position option image position \n     */\n    setTabImage(image, position) {\n        let { canvas, controlPoints } = this.state\n        fabric.Image.fromURL(image, function (uploadedImageObject) {\n            uploadedImageObject.set({\n                ...controlPoints,\n                ...position,\n                productimizeType: \"tabImage\",\n                name: \"tabImage\",\n                originX: \"center\",\n                originY: \"center\",\n            });\n            canvas.add(uploadedImageObject);\n            canvas.renderAll()\n        });\n    }\n    /**\n     * call back front the fabric when scale or move the object\n     * @param {FabricObject} obj \n     */\n    positionChangeCallback(obj) {\n        let { fields, tabImagesPosition, currentView } = this.state\n        let index = this.props.state.fields.model_image[currentView].id\n        tabImagesPosition[index] = {\n            ...tabImagesPosition[index],\n            left: obj.left,\n            top: obj.top,\n            scaleX: obj.scaleX,\n            scaleY: obj.scaleY,\n            angle: obj.angle,\n            width: obj.width,\n            height: obj.height,\n            lockUniScaling: obj.lockUniScaling\n        }\n        let boundReact = obj.getBoundingRect()\n        this.setState({\n            fields: {\n                ...fields,\n                x: obj.left - (boundReact.width / 2),\n                y: obj.top - (boundReact.height / 2),\n                width: obj.getScaledWidth(),\n                height: obj.getScaledHeight(),\n                angle: obj.angle,\n                scaleX: obj.scaleX,\n                scaleY: obj.scaleY\n            }, tabImagesPosition\n        })\n    }\n    /**\n     * lock the Non uniq scaling\n     */\n    lockScaling() {\n        let { fields } = this.state\n        this.setState({ fields: { ...fields, lockScaling: !fields.lockScaling } }, () => {\n            let { canvas, fabricFunction, fields } = this.state\n            let obj = fabricFunction.findByName(\"tabImage\")\n            obj.set({ lockUniScaling: fields.lockScaling })\n            canvas.renderAll()\n        })\n    }\n    /**\n     * Handle the Range input change\n     * @param {String} name Name for the field\n     * @param {String | Number} value Value of the field\n     * @param {boolean} complete Is the slide complete or note\n     */\n    handleInputRangeChange(name, value, complete) {\n        let trigger = false\n        if (complete) {\n            trigger = true\n        }\n        let { fabricFunction, fields } = this.state\n        let object = fabricFunction.findByName(\"tabImage\");\n        let angle;\n        if (name == \"angle\") {\n            angle = (value !== '') ? parseInt(value) : 0\n            fields = {\n                ...fields,\n                angle: angle\n            }\n            this.changeCanvasData({ angle }, object, trigger)\n            this.setState({ fields: { ...fields } })\n        }\n    }\n    /**\n     * Handle the Input Change\n     * @param {HtmlEvent | object} event \n     */\n    handleInputChange(event) {\n        let { fabricFunction, fields } = this.state\n        let object = fabricFunction.findByName(\"tabImage\");\n        let xpos, ypos, scaleX, scaleY, width, height, angle;\n        if (event.target.id === 'x_position') {\n            xpos = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                x: xpos\n            }\n            let left = xpos + (object.getBoundingRect().width / 2)\n            this.changeCanvasData({ left }, object)\n        } else if ((event.target.id === 'y_position')) {\n            ypos = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                y: ypos\n            }\n            let top = ypos + (object.getBoundingRect().height / 2)\n            this.changeCanvasData({ top }, object)\n        } else if ((event.target.id === 'width')) {\n            let actualWidth = object.width;\n            width = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            scaleX = width / actualWidth\n            height = fields.height\n            scaleY = fields.scaleY\n            let ratio = scaleX / fields.scaleX\n            if (fields.lockScaling) {\n                height = fields.height * ratio\n                scaleY = fields.scaleY * ratio\n            }\n            fields = {\n                ...fields,\n                width,\n                height,\n                scaleX,\n                scaleY\n            }\n            this.changeCanvasData({ scaleX, scaleY }, object)\n        } else if ((event.target.id === 'height')) {\n            let actualHeight = object.height;\n            height = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            scaleY = height / actualHeight\n            width = fields.width\n            scaleX = fields.scaleX\n            let ratio = scaleY / fields.scaleY\n            if (fields.lockScaling) {\n                width = fields.width * ratio\n                scaleX = fields.scaleX * ratio\n            }\n            fields = {\n                ...fields,\n                width,\n                height,\n                scaleX,\n                scaleY\n            }\n            this.changeCanvasData({ scaleX, scaleY }, object)\n        } else if ((event.target.id === 'angle')) {\n            angle = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                angle: angle\n            }\n            this.changeCanvasData({ angle }, object)\n        }\n        this.setState({ fields: { ...fields } })\n    }\n    /**\n     * change the canvas values \n     * @param {object} data data to be changed\n     * @param {Fabric Canvas | object} object \n     * @param {Boolean} trigger trigger the modified event\n     */\n    changeCanvasData(data, object, trigger) {\n        let { currentView, tabImagesPosition, canvas } = this.state\n        let index = this.props.state.fields.model_image[currentView].id\n        tabImagesPosition[index] = {\n            ...tabImagesPosition[index],\n            ...data\n        }\n        object.animate(data, {\n            onChange: canvas.renderAll.bind(canvas),\n            onComplete: function () {\n                if (trigger) {\n                    canvas.trigger('object:modified', { target: object })\n                }\n            }\n        })\n        object.setCoords();\n    }\n    /**\n     * change the view\n     * @param {Number} index \n     */\n    changeView(index) {\n        this.setState({ currentView: index, fields: '' }, () => {\n            let { tabImages, tabImagesPosition } = this.state\n            let modelImage = this.props.state.fields.model_image\n            var baseImage = app.APP_IMAGE_BASE_URL + modelImage[index].image_url;\n            this.addBaseImage(baseImage, () => {\n                var modelId = modelImage[index].id\n                if (tabImages[modelId]) {\n                    let image = tabImages[modelId]\n                    let position = tabImagesPosition[modelId] || \"\"\n                    this.setTabImage(app.APP_IMAGE_BASE_URL + image, position)\n                }\n            });\n\n        })\n    }\n    /**\n     * next View\n     */\n    nextView() {\n        let { currentView } = this.state\n        currentView = currentView + 1;\n        this.changeView(currentView)\n    }\n    /**\n     * previous View\n     */\n    prevView() {\n        let { currentView } = this.state\n        currentView = currentView - 1;\n        this.changeView(currentView)\n    }\n    /**\n     * Submit Event\n     * @param {HtmlEvent | Object} e \n     */\n    submit(e) {\n        let { tabImages, tabImagesPosition } = this.state\n        this.props.updateTabImages({\n            promize_tab_id: this.props.setTabPosition.data.tabData.promize_tab_id,\n            tab_images: JSON.stringify(tabImages),\n            tab_images_position: JSON.stringify(tabImagesPosition)\n        })\n        toastr.success(\"Tab Image Positions Updated\")\n        this.props.closePopup(e)\n    }\n    delete(e) {\n        e.preventDefault()\n        let { fabricFunction, tabImages, tabImagesPosition, currentView, canvas, fields } = this.state\n        let modelImage = this.props.state.fields.model_image\n        let tabImageObj = fabricFunction.findByName(\"tabImage\")\n        if (tabImageObj) {\n            let currnetModelImage = modelImage[currentView]\n            tabImages[currnetModelImage.id] = \"\"\n            tabImagesPosition[currnetModelImage.id] = \"\"\n            this.setState({ tabImages, tabImagesPosition, fields: \"\" })\n            toastr.success(\"The tab image is removed\")\n            canvas.remove(tabImageObj)\n        }\n    }\n    /**\n     * View Thmubnail Section\n     */\n    thumbnail() {\n        let { currentView } = this.state\n        let modelImage = this.props.state.fields.model_image\n        return <div className=\"promize-opt-thumb text-center\">\n            {modelImage.length > 0 && <div>\n                <ul>\n                    {modelImage.map((data, index) => {\n                        return <li key={index} onClick={e => this.changeView(index)} className={\"thumb-itm \" + (index == currentView ? \"current-item\" : \"\")}>\n                            <img src={app.APP_IMAGE_BASE_URL + modelImage[index].image_url} />\n                            <p>{modelImage[index].view_name}</p>\n                        </li>\n                    })}\n                </ul>\n            </div>\n            }\n        </div>\n    }\n    deleteButton() {\n        let { fabricFunction } = this.state\n        let optionImageObj = fabricFunction.findByName(\"tabImage\")\n        if (optionImageObj) {\n            return <button className=\"btn btn-promize-secondary\" onClick={(e) => this.delete(e)}>delete</button>\n        }\n    }\n    /**\n     * Canvas Control Link X position, Y Position.....\n     */\n    canvasControls() {\n        let { fields } = this.state\n        return <React.Fragment>\n            <div className=\"promize-canvas-xy\">\n                <Input {...this.props}\n                    fieldName={'x_position'}\n                    value={fields.x || 0}\n                    labelName={\"X position\"}\n                    validation={false}\n                    inputType=\"number\"\n                    disabled={fields ? false : true}\n                    onChange={this.handleInputChange}\n                />\n                <Input {...this.props}\n                    fieldName={'y_position'}\n                    value={fields.y || 0}\n                    labelName={\"Y position\"}\n                    validation={false}\n                    disabled={fields ? false : true}\n                    inputType=\"number\"\n                    onChange={this.handleInputChange}\n                />\n            </div>\n            <div>\n                <Input {...this.props}\n                    fieldName={'angle'}\n                    value={fields.angle || 0}\n                    labelName={\"Angle\"}\n                    validation={false}\n                    disabled={fields ? false : true}\n                    inputType=\"number\"\n                    onChange={this.handleInputChange}\n                />\n                <InputRange\n                    maxValue={180}\n                    minValue={-180}\n                    disabled={fields ? false : true}\n                    value={fields.angle || 0}\n                    onChange={value => this.handleInputRangeChange('angle', value)}\n                    onChangeComplete={value => this.handleInputRangeChange('angle', value, true)} />\n            </div>\n            <div className=\"promize-canvas-hw\">\n                <Input {...this.props}\n                    fieldName={'width'}\n                    value={fields.width || 0}\n                    labelName={\"Width\"}\n                    validation={false}\n                    inputType=\"number\"\n                    disabled={fields ? false : true}\n                    onChange={this.handleInputChange}\n                />\n                <Input {...this.props}\n                    fieldName={'height'}\n                    value={fields.height || 0}\n                    labelName={\"Height\"}\n                    validation={false}\n                    inputType=\"number\"\n                    disabled={fields ? false : true}\n                    onChange={this.handleInputChange}\n                />\n                <div className=\"prop-lock-hw\"><button className={\"btn-prop-lock \" + (fields.lockScaling ? \"locked\" : \"\")} onClick={e => this.lockScaling()}><i className=\"fa fa-link\"></i></button></div>\n            </div>\n        </React.Fragment>\n    }\n    render() {\n        let { currentView } = this.state\n        let modelImage = this.props.state.fields.model_image\n        return <div className=\"promize-modal-cover-set-postion\">\n            <div className=\"promize-modal modal-lg\">\n                <div className=\"promize-modal-header\">\n                    <h3 className=\"modal-title\">\n                        <span>Tab Position</span>\n                    </h3>\n                </div>\n                <div className=\"promize-modal-body\">\n                    <div className=\"promize-view-container\">\n                        {this.thumbnail()}\n                        <div className=\"promize-option-container\">\n                            <canvas id='canvas'></canvas>\n                            <div className=\"promize-set-position df df-sp-around mt-20\">\n                                {this.canvasControls()}\n                                {this.props.state.fields.model_image.length > 1 &&\n                                    <React.Fragment>\n                                        <div className={\"promize-slide-icon promize-canvas-prev-btn \" + (currentView <= 0 ? 'disabled' : '')} onClick={e => { currentView <= 0 ? e.preventDefault() : this.prevView() }}><i className=\"fa fa-angle-left\"></i></div>\n                                        <div className={\"promize-slide-icon promize-canvas-next-btn \" + (currentView >= modelImage.length - 1 ? 'disabled' : '')} onClick={e => { currentView >= modelImage.length ? e.preventDefault() : this.nextView() }}><i className=\"fa fa-angle-right\"></i></div>\n                                    </React.Fragment>\n                                }\n                            </div>\n                        </div>\n                        <div className=\"promize-stp-options\">\n                            {this.deleteButton()}\n                        </div>\n                    </div>\n                    <div className=\"df-js-center mt-20\">\n                        <div className=\"wd-25\">\n                            <div className=\"upload-image\">\n                                <ImageUpload\n                                    {...this.props}\n                                    form={this.props.imageForm}\n                                    labelName={\"Tab image\"}\n                                    fieldName={'tab_file'}\n                                    dataName={'tab_file'}\n                                    validation={false}\n                                    value={\"\"}\n                                    image_url={\"\"}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"promize-modal-footer df df-end\">\n                    <button className=\"btn btn-promize-secondary\" onClick={(e) => { this.props.closePopup(e) }}>Cancel</button>\n                    <button className=\"btn btn-promize-primary\" onClick={(e) => this.submit(e)}>Submit</button>\n                </div>\n            </div>\n        </div>\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        imageUpload: state.imageUpload\n    };\n}\n\n\nexport default connect(mapStateToProps)(SetTabPosition);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport Input from './input';\nimport { fabric } from 'fabric';\nimport FabricFunction from '../productimize/FabricFunction'\nimport { app } from \"../../config/app\"\nimport InputRange from 'react-input-range'\nimport 'react-input-range/lib/css/index.css'\nimport ImageUpload from '../files/ImageUpload'\nimport toastr from 'toastr'\n\nexport const sectionvalidation = (props) => {\n    const rules = {\n        \"section_name\": \"required\",\n    }\n    return rules;\n}\nclass SetBoundary extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            position: {\n                left: 0,\n                top: 0,\n                width: 0,\n                height: 0,\n                scaleX: 1,\n                scaleY: 1,\n                angle: 0\n            },\n            fields: '',\n            controlPoints: {\n                cornerSize: 12,\n                hasControls: true,\n                borderColor: '#0032cc',\n                cornerColor: '#06f',\n                cornerStyle: \"circle\",\n                transparentCorners: false,\n                hasControls: true,\n                padding: \"3\",\n                selectable: true,\n                hasRotatingPoint: false\n            },\n            currentView: 0,\n            canvas: {},\n            fabricFunction: FabricFunction.getInstance('')\n        }\n        let modelImage = this.props.state.fields.model_image\n    }\n    componentDidMount() {\n        let modelImage = this.props.state.fields.model_image\n        let { currentView, fabricFunction } = this.state\n        var baseImage = app.APP_IMAGE_BASE_URL + modelImage[currentView].image_url;\n        let canvas = new fabric.Canvas('canvas', {\n            selection: false,\n            controlsAboveOverlay: true,\n            centeredScaling: true,\n            allowTouchScrolling: true\n        });\n        let positionChangeCallback = this.positionChangeCallback\n        canvas.on('object:moving', function (e) {\n            if (e.target.productimizeType && e.target.productimizeType == \"boundary\") {\n                positionChangeCallback(e.target)\n            }\n        }).on('object:modified', function (e) {\n            if (e.target.productimizeType && e.target.productimizeType == \"boundary\") {\n                positionChangeCallback(e.target)\n            }\n        }).on('object:scaling', function (e) {\n            if (e.target.productimizeType && e.target.productimizeType == \"boundary\") {\n                positionChangeCallback(e.target)\n            }\n        }).on('object:added', function (e) {\n            if (e.target.productimizeType && e.target.productimizeType == \"boundary\") {\n                e.target.animate(\"opacity\", 1, {\n                    onChange: canvas.renderAll.bind(canvas)\n                })\n                positionChangeCallback(e.target)\n            }\n        });\n        fabricFunction.setCanvas(canvas)\n        this.setState({\n            canvas: canvas,\n            fabricFunction: fabricFunction\n        }, () => {\n            var baseImage = app.APP_IMAGE_BASE_URL + modelImage[currentView].image_url;\n            this.addBaseImage(baseImage, () => { this.addBoundary(baseImage) })\n        })\n    }\n    /**\n    * call back front the fabric when scale or move the object\n    * @param {FabricObject} obj \n    */\n    positionChangeCallback = obj => {\n        let { fields, fabricFunction, currentView, canvas } = this.state\n        let index = this.props.state.fields.model_image[currentView].id\n        let overlay = fabricFunction.findByName(\"overlay\")\n        if (overlay) {\n            var clipRect = new fabric.Rect({\n                left: obj.left - (overlay.width / 2),\n                top: obj.top - (overlay.height / 2),\n                width: obj.getScaledWidth(),\n                height: obj.getScaledHeight(),\n                fill: '',\n            });\n            overlay.set(\"clipPath\", clipRect)\n            canvas.renderAll()\n            this.setState({\n                fields: {\n                    ...fields,\n                    x: obj.left,\n                    y: obj.top,\n                    width: obj.getScaledWidth(),\n                    height: obj.getScaledHeight(),\n                }\n            })\n        }\n    }\n    addBoundary(baseImage) {\n        const canvas = this.state.canvas\n        var rect = new fabric.Rect({\n            left: 0,\n            top: 0,\n            width: canvas.width,\n            height: canvas.height,\n            fill: '#777',\n            selectable: false,\n            opacity: 0.7\n        });\n        canvas.add(rect);\n        this.addOverlayImage(baseImage, () => {\n            var rectRed = new fabric.Rect({\n                left: (canvas.width - 100) / 2,\n                top: (canvas.height - 100) / 2,\n                width: 100,\n                height: 100,\n                fill: '',\n                imageWidth: canvas.width,\n                imageHeight: canvas.height,\n                cornerSize: 12,\n                hasControls: true,\n                borderColor: '#0032cc',\n                cornerColor: '#06f',\n                cornerStyle: \"circle\",\n                transparentCorners: false,\n                hasRotatingPoint: false,\n                productimizeType: 'boundary',\n                name: \"boundaryCtrl\"\n            });\n            canvas.add(rectRed);\n            canvas.renderAll()\n        })\n    }\n    addOverlayImage(baseImage, callBack) {\n        let canvas = this.state.canvas\n        fabric.Image.fromURL(baseImage, function (baseImageObject) {\n            var clipRect = new fabric.Rect({\n                left: -50,\n                top: -50,\n                width: 100,\n                height: 100,\n                fill: ''\n            });\n            baseImageObject.set({\n                originX: \"center\",\n                originY: \"center\",\n                left: baseImageObject.width / 2,\n                top: baseImageObject.height / 2,\n                clipPath: clipRect,\n                selectable: false,\n                name: \"overlay\"\n            })\n            canvas.add(baseImageObject);\n            canvas.renderAll()\n            if (typeof callBack === \"function\") {\n                callBack()\n            }\n        });\n    }\n    /**\n     * add Base Image to canvas\n     * @param {object} baseImage \n     * @param {string} callBack \n     */\n    addBaseImage(baseImage, callBack) {\n        let canvas = this.state.canvas\n        canvas.clear()\n        fabric.Image.fromURL(baseImage, function (baseImageObject) {\n            baseImageObject.set({ selectable: false })\n            canvas.setHeight(baseImageObject.height);\n            canvas.setWidth(baseImageObject.width);\n            baseImageObject.set({\n                originX: \"center\",\n                originY: \"center\",\n                left: baseImageObject.width / 2,\n                top: baseImageObject.height / 2,\n            })\n            canvas.add(baseImageObject);\n            canvas.renderAll()\n            if (typeof callBack === \"function\") {\n                callBack()\n            }\n        });\n    }\n    /**\n    * View Thmubnail Section\n    */\n    thumbnail() {\n        let { currentView } = this.state\n        let modelImage = this.props.state.fields.model_image\n        return <div className=\"promize-opt-thumb text-center\">\n            {modelImage.length > 0 && <div>\n                <ul>\n                    {modelImage.map((data, index) => {\n                        return <li key={index} onClick={e => this.changeView(index)} className={\"thumb-itm \" + (index == currentView ? \"current-item\" : \"\")}>\n                            <img src={app.APP_IMAGE_BASE_URL + modelImage[index].image_url} />\n                            <p>{modelImage[index].view_name}</p>\n                        </li>\n                    })}\n                </ul>\n            </div>\n            }\n        </div>\n    }\n    /**\n     * change the view\n     * @param {Number} index \n     */\n    changeView = index => {\n        this.setState({ currentView: index, fields: '' }, () => {\n            let { optionView, optionViewPosition } = this.state\n            let modelImage = this.props.state.fields.model_image\n            var baseImage = app.APP_IMAGE_BASE_URL + modelImage[index].image_url;\n            this.addBaseImage(baseImage, () => { this.addBoundary(baseImage) })\n        })\n    }\n    /**\n     * change the canvas values \n     * @param {object} data data to be changed\n     * @param {Fabric Canvas | object} object \n     * @param {Boolean} trigger trigger the modified event\n     */\n    changeCanvasData(data, object, trigger) {\n        let {canvas } = this.state\n        object.set(data)\n        canvas.trigger('object:modified', { target: object })\n        object.setCoords();\n    }\n    /**\n     * Handle the Input Change\n     * @param {HtmlEvent | object} event \n     */\n    handleInputChange = event => {\n        let { fabricFunction, fields } = this.state\n        let object = fabricFunction.findByName(\"boundaryCtrl\");\n        let xpos, ypos, scaleX, scaleY, width, height, angle;\n        if (event.target.id === 'x_position') {\n            xpos = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                x: xpos\n            }\n            let left = xpos\n            this.changeCanvasData({ left }, object,true)\n        } else if ((event.target.id === 'y_position')) {\n            ypos = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                y: ypos\n            }\n            let top = ypos \n            this.changeCanvasData({ top }, object,true)\n        } else if ((event.target.id === 'width')) {\n            width = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                width: width\n            }\n            this.changeCanvasData({ width }, object,true)\n        } else if ((event.target.id === 'height')) {\n            height = (event.target.value !== '') ? parseInt(event.target.value) : 0\n            fields = {\n                ...fields,\n                height: height\n            }\n            this.changeCanvasData({ height }, object,true)\n        }\n        this.setState({ fields: { ...fields } })\n    }\n    /**\n     * Canvas Control Link X position, Y Position.....\n     */\n    canvasControls() {\n        let { fields } = this.state\n        return <React.Fragment>\n            <div className=\"promize-canvas-xy\">\n                <Input {...this.props}\n                    fieldName={'x_position'}\n                    value={fields.x || 0}\n                    labelName={\"X position\"}\n                    validation={false}\n                    inputType=\"number\"\n                    disabled={fields ? false : true}\n                    onChange={this.handleInputChange}\n                />\n                <Input {...this.props}\n                    fieldName={'y_position'}\n                    value={fields.y || 0}\n                    labelName={\"Y position\"}\n                    validation={false}\n                    disabled={fields ? false : true}\n                    inputType=\"number\"\n                    onChange={this.handleInputChange}\n                />\n            </div>\n            <div>\n\n            </div>\n            <div className=\"promize-canvas-hw\">\n                <Input {...this.props}\n                    fieldName={'width'}\n                    value={fields.width || 0}\n                    labelName={\"Width\"}\n                    validation={false}\n                    inputType=\"number\"\n                    disabled={fields ? false : true}\n                    onChange={this.handleInputChange}\n                />\n                <Input {...this.props}\n                    fieldName={'height'}\n                    value={fields.height || 0}\n                    labelName={\"Height\"}\n                    validation={false}\n                    inputType=\"number\"\n                    disabled={fields ? false : true}\n                    onChange={this.handleInputChange}\n                />\n                {/* <div className=\"prop-lock-hw\"><button className={\"btn-prop-lock \" + (fields.lockScaling ? \"locked\" : \"\")} onClick={e => this.lockScaling()}><i className=\"fa fa-link\"></i></button></div> */}\n            </div>\n        </React.Fragment>\n    }\n    deleteButton() {\n        let { fabricFunction } = this.state\n        let optionImageObj = fabricFunction.findByName(\"optionImage\")\n        if (optionImageObj) {\n            return <button className=\"btn btn-promize-primary\" onClick={(e) => this.delete(e)}>delete</button>\n        }\n        return '';\n    }\n    /**\n     * Submit Event\n     * @param {HtmlEvent | Object} e \n     */\n    submit(e){ \n        // let {tabImages,tabImagesPosition} = this.state\n        console.log(this.props.setBoundary)\n        // this.props.updateTabImages({\n        //     promize_tab_id: this.props.setTabPosition.data.tabData.promize_tab_id,\n        //     tab_images: JSON.stringify(tabImages),\n        //     tab_images_position: JSON.stringify(tabImagesPosition)\n        // })\n        toastr.success(\"Boundary / Default View Updated Successfully\")\n        this.props.closePopup(e)\n    }\n    render() {\n        let { currentView } = this.state\n        let modelImage = this.props.state.fields.model_image\n        return <div className=\"promize-modal-cover-set-postion\">\n            <div className=\"promize-modal modal-lg\">\n                <div className=\"promize-modal-header\">\n                    <h3 className=\"modal-title\">\n                        <span>Boundary / Default View</span>\n                    </h3>\n                </div>\n                <div className=\"promize-modal-body\">\n                    <div className=\"promize-view-container\">\n                        {this.thumbnail()}\n                        <div className=\"promize-option-container\">\n                            <canvas id='canvas'></canvas>\n                            <div className=\"promize-set-position df df-sp-around mt-20\">\n                                {this.canvasControls()}\n                                {this.props.state.fields.model_image.length > 1 &&\n                                    <React.Fragment>\n                                        <div className={\"promize-slide-icon promize-canvas-prev-btn \" + (currentView <= 0 ? 'disabled' : '')} onClick={e => { currentView <= 0 ? e.preventDefault() : this.prevView() }}><i className=\"fa fa-angle-left\"></i></div>\n                                        <div className={\"promize-slide-icon promize-canvas-next-btn \" + (currentView >= modelImage.length - 1 ? 'disabled' : '')} onClick={e => { currentView >= modelImage.length ? e.preventDefault() : this.nextView() }}><i className=\"fa fa-angle-right\"></i></div>\n                                    </React.Fragment>\n                                }\n                            </div>\n                        </div>\n                        <div>\n                            {this.deleteButton()}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"promize-modal-footer df df-end\">\n                    <button className=\"btn btn-promize-secondary\" onClick={(e) => { this.props.closePopup(e) }}>Cancel</button>\n                    <button className=\"btn btn-promize-primary\" onClick={(e) => this.submit(e)}>Submit</button>\n                </div>\n            </div>\n        </div>\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        imageUpload: state.imageUpload\n    };\n}\n\n\nexport default connect(mapStateToProps)(SetBoundary);\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { app } from \"../../../config/app\"\nimport Switchtoggle from '../../../components/form/switchtoggle';\nimport { SimpleSelect } from '../../../components/form/SimpleSelect';\nclass Options extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            toggle: false\n        }\n    }\n    render() {\n        let promize_attribute_values = this.props.promize_attribute_values\n        let tab_attribute_values = this.props.tab_attribute_values ? this.props.tab_attribute_values : this.props.tab_attribute_data_values\n        return <>\n            <div className=\"promize-widget-header\">\n                <h3 className=\"promize-widget-title\">\n                    <div className=\"promize-widget-sub-title\">\n                        <i className=\"fa fa-cube\"></i><span><b>{this.props.attribute_name}</b></span>\n                    </div>\n                </h3>\n                <div className=\"promize-widget-action df\">\n                    <ul className=\"df\">\n                        <li>\n                            <button className=\"btn btn-tbl\" title=\"Delete\" onClick={(e) => { this.props.deleteAttributeFromTab(e, this.props.promize_attribute_id, this.props.tab_id) }}><i className=\"fa fa-trash-alt\"></i> <span class=\"promize-btn-description\">Remove</span></button>\n                        </li>\n                    </ul>\n                </div>\n                {/* <div className=\"promize-widget-drag\">\n                    <button className=\"btn\"><i className=\"fa fa-bars\"></i></button>\n                </div> */}\n                <div className=\"promize-widget-toggle\">\n                    <button className={\"btn \" + (this.state.toggle ? \"\" : \"toggle\")} onClick={(e) => { this.setState({ toggle: !this.state.toggle }) }} ><i className=\"fa fa-angle-down\"></i></button>\n                </div>\n            </div>\n            {this.state.toggle && <div className=\"promize-widget-body bg-grey\"> <table className=\"promize-table table-options table-action\">\n                                    <thead>\n                                        <tr>\n                                            <th>Name</th>\n                                            <th>Code</th>\n                                            <th>Image</th>\n                                            <th>Thumbnail</th>\n                                            <th>SKU</th>\n                                            <th>Price ($)</th>\n                                            <th>Actions</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                       {tab_attribute_values && Object.keys(tab_attribute_values).length > 0 && Object.keys(tab_attribute_values).map((key, index) => {\n                                            let tabAttributeValueData = tab_attribute_values[key]\n                                            let data = promize_attribute_values.find((obj) => { return obj.promize_attribute_values_id == tabAttributeValueData.promize_attribute_values_id })\n                                            data.option_images = [];\n                                            data.promize_images.map((img_data, index) => {\n                                                if (img_data.image_type == \"option_thubnail_image\") {\n                                                } else {\n                                                    data.option_images.push(img_data)\n                                                }\n                                            })\n                                            return <tr key={index}>\n                                                <td>{data.option_name ? data.option_name : '-'}</td>\n                                                <td>{data.option_code ? data.option_code : '-'}</td>\n                                                <td><div className=\"promize-tbl-mi-cvr\"><ul className=\"promize-milist\">\n                                                    {(data.promize_images.length > 0) && data.promize_images.map((img_data, index) => {\n                                                        if (img_data.image_type == 'option_thubnail_image') {\n                                                            return '';\n                                                        }\n                                                        return <li key={index}>\n                                                            {img_data.image_url && <img src={app.APP_IMAGE_BASE_URL + img_data.image_url} className=\"promize-tbl-img\" alt={\" \"} />}\n                                                        </li>\n                                                    })}\n                                                    {!(data.promize_images.length > 0) && <li>{\"-\"}</li>}\n                                                </ul></div></td>\n                                                <td><div className=\"promize-tbl-mi-cvr\">\n                                                {data.promize_images.map((img_data, index) => {\n                                                    if (img_data.image_type == \"option_thubnail_image\") {\n                                                        if(img_data.image_url){ return  <img src={app.APP_IMAGE_BASE_URL + img_data.image_url} className=\"promize-tbl-img-sm\" alt={\" \"} />}\n                                                        else{\n                                                            return <div>{\"-\"}</div>\n                                                        }\n                                                    }\n                                                })}\n                                                </div>\n                                                </td>\n                                                <td>{data.option_sku ? data.option_sku : '-'}</td>\n                                                <td>{data.option_price ? data.option_price : '-'}</td>\n                                                <td>\n                                                <button class=\"btn btn-tbl\"><i class=\"fa fa-pencil-alt\"></i><span class=\"promize-btn-description\">Edit</span></button><button class=\"btn btn-tbl\" onClick={(e) => { this.props.openSetOptionPositionPopup(e, { tabAttributeValueData, data }) }}><i class=\"far fa-object-group\"></i><span class=\"promize-btn-description\">Option Position</span></button>\n                                                </td>\n                                            </tr>\n                                        })}\n                                    </tbody>\n                                </table></div>}\n        </>\n    }\n}\n\n\nexport default Options;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { app } from \"../../../config/app\"\nimport { getAllCliparts, get } from '../../../actions/cliparts';\nimport noData from '../../../assets/images/no-data.png';\nimport _ from 'lodash'\nclass Cliparts extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            clipartList: {},\n            toggle: false\n        }\n        this.getAssociatedClipart = this.getAssociatedClipart.bind(this)\n    }\n    componentWillMount() {\n        this.getAssociatedClipart();\n    }\n    getAssociatedClipart(id) {\n        this.props.promize_attribute_clipart_values.length > 0 && this.props.promize_attribute_clipart_values.map((data, index) => {\n            let id = data.promize_domain_clipart_category_id.split(',');\n            id.map((id, index) => {\n                this.props.dispatch(get(id));\n            })\n        })\n\n    }\n    componentWillReceiveProps(props) {\n        if (!props.clipart.isFetching && !props.clipart.isError) {\n            let clipart = props.clipart.response.data, clipartList = this.state.clipartList;\n            clipartList[clipart.promize_domain_clipart_category_id] = clipart\n            this.setState({ clipartList: clipartList });\n        }\n    }\n    render() {\n        let promize_attribute_clipart_values = this.props.promize_attribute_clipart_values\n        let tab_attribute_values = (this.props.tab_attribute_values && (!_.isEmpty(this.props.tab_attribute_values))) ? this.props.tab_attribute_values : this.props.tab_attribute_data_values\n        let clipartList = this.state.clipartList;\n        return <>\n            <div className=\"promize-widget-header\">\n                <h3 className=\"promize-widget-title\">\n                    <div className=\"promize-widget-sub-title\">\n                        <i className=\"fa fa-grin-hearts\"></i><span><b>{this.props.attribute_name}</b></span>\n                    </div>\n                </h3>\n                <div className=\"promize-widget-action df\">\n                    <ul className=\"df\">\n                        <li>\n                            <button className=\"btn btn-tbl\" onClick={(e) => { this.props.openSetBoundaryPopup(e, { tab_attribute_values }) }} title=\"Set Boundary\">\n                                <i className=\"fa fa-crosshairs\"></i><span class=\"promize-btn-description\"> Boundary / Default View</span>\n                            </button>\n                        </li>\n                        <li>\n                            <button className=\"btn btn-tbl\" title=\"Delete\" onClick={(e) => { this.props.deleteAttributeFromTab(e, this.props.promize_attribute_id, this.props.tab_id) }}><i className=\"fa fa-trash-alt\"></i><span class=\"promize-btn-description\">Remove</span></button>\n                        </li>\n                    </ul>\n                </div>\n                {/* <div className=\"promize-widget-drag\">\n                    <button className=\"btn\"><i className=\"fa fa-bars\"></i></button>\n                </div> */}\n                <div className=\"promize-widget-toggle\">\n                    <button className={\"btn \" + (this.state.toggle ? \"\" : \"toggle\")} onClick={(e) => { this.setState({ toggle: !this.state.toggle }) }} ><i className=\"fa fa-angle-down\"></i></button>\n                </div>\n            </div>\n            {this.state.toggle && <div className=\"promize-widget-body bg-grey\">\n                <div className=\"promize-tab-option-container\">\n                    <ul className=\"promize-clipart-options\">\n                        {\n                            tab_attribute_values && Object.keys(tab_attribute_values).length > 0 && Object.keys(tab_attribute_values).map((key, index) => {\n                                let tabAttributeValueData = tab_attribute_values[key]\n                                let optionData = tabAttributeValueData.promize_attribute_clipart_values_id ? tabAttributeValueData : promize_attribute_clipart_values.find((obj) => { return obj.promize_attribute_clipart_values_id == tabAttributeValueData.promize_attribute_values_id })\n                                let clip_ids = optionData.promize_domain_clipart_category_id.split(',');\n                                return clip_ids.map((id, index) => {\n                                    let clipart_images = clipartList[id];\n                                    return clipart_images && clipart_images.promize_clipart_category_images.map((data, index) => {\n                                        let clipartImg = data.promize_product_clipart_image\n                                        return <li>\n                                            <div className=\"promize-clipart-thumb\">\n                                                {clipartImg ? <img src={app.APP_IMAGE_BASE_URL + clipartImg} /> : <img src={noData} />}\n                                                <p>{data.clipart_name}</p>\n                                            </div>\n                                        </li>\n                                    })\n                                })\n                            })\n                        }\n                    </ul>\n                </div>\n            </div>}\n        </>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        clipart: state.clipart,\n    };\n}\n\nexport default connect(mapStateToProps)(Cliparts);","import React, { Component } from 'react'\nimport _ from 'lodash'\n\nclass Image extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            toggle: false\n        }\n    }\n\n    render() {\n        let promize_attribute_image_values = this.props.promize_attribute_image_values\n        let tab_attribute_values = (this.props.tab_attribute_values && (!_.isEmpty(this.props.tab_attribute_values))) ? this.props.tab_attribute_values : this.props.tab_attribute_data_values\n        return <>\n            <div className=\"promize-widget-header\">\n                <h3 className=\"promize-widget-title\">\n                    <div className=\"promize-widget-sub-title\">\n                        <i className=\"fa fa-images\"></i><span><b>{this.props.attribute_name}</b></span>\n                    </div>\n                </h3>\n                <div className=\"promize-widget-action df\">\n                    <ul className=\"df\">\n                        <li>\n                            <button className=\"btn btn-tbl\" onClick={(e) => { this.props.openSetBoundaryPopup(e, {}) }} title=\"Set Boundary\">\n                                <i className=\"fa fa-crosshairs\"></i><span class=\"promize-btn-description\"> Boundary / Default View</span>\n                        </button>\n                        </li>\n                        <li>\n                            <button className=\"btn btn-tbl\" title=\"Delete\" onClick={(e) => { this.props.deleteAttributeFromTab(e, this.props.promize_attribute_id, this.props.tab_id) }}><i className=\"fa fa-trash-alt\"></i><span class=\"promize-btn-description\">Remove</span></button>\n                        </li>\n                    </ul>\n                </div>\n                {/* <div className=\"promize-widget-drag\">\n                    <button className=\"btn\"><i className=\"fa fa-bars\"></i></button>\n                </div> */}\n                <div className=\"promize-widget-toggle\">\n                    <button className={\"btn \" + (this.state.toggle ? \"\" : \"toggle\")} onClick={(e) => { this.setState({ toggle: !this.state.toggle }) }} ><i className=\"fa fa-angle-down\"></i></button>\n                </div>\n            </div>\n            {this.state.toggle && <div className=\"promize-widget-body bg-grey\">\n                {\n                    tab_attribute_values && Object.keys(tab_attribute_values).length > 0 && Object.keys(tab_attribute_values).map((key, index) => {\n                        let tabAttributeValueData = tab_attribute_values[key]\n                        let optionData = tabAttributeValueData.promize_attribute_image_values_id ? tabAttributeValueData : promize_attribute_image_values.find((obj) => { return obj.promize_attribute_image_values_id == tabAttributeValueData.promize_attribute_values_id })\n                        return <div className=\"promize-attribute-options\">\n                            <div><span>{\"Image Name\"}</span><span>{\":\"}</span><span>{optionData.image_name}</span></div>\n                            <div><span>{\"Image Price\"}</span><span>{\":\"}</span><span className=\"promize-badge badge-primary\">{optionData.image_price?optionData.image_price: '-'}</span></div>\n                            <div><span>{\"Image Sku\"}</span><span>{\":\"}</span><span className=\"promize-badge badge-primary\">{optionData.image_sku ? optionData.image_sku : '-'}</span></div>\n                            <div><span>{\"Image Format\"}</span><span>{\":\"}</span><span>{optionData.image_format}</span></div>\n                            <div><span>{\"Image Max Upload Size\"}</span><span>{\":\"}</span><span>{optionData.max_upload_size}</span></div>\n                            <div><span>{\"Image Min Upload Size\"}</span><span>{\":\"}</span><span>{optionData.min_upload_size}</span></div>\n                        </div>\n                    })\n                }\n            </div>}\n        </>\n    }\n}\n\nexport default Image;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport _ from 'lodash'\nimport { getAllFonts } from '../../../actions/fontfamily'\nimport { getAllFontSizes } from '../../../actions/fontsize'\nimport { getAllFontColors } from '../../../actions/fontcolor'\nclass Text extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            fontSizes: {},\n            fonts: {},\n            fontColors: {},\n            toggle: false\n        }\n    }\n\n    componentWillMount() {\n        this.props.dispatch(getAllFontSizes());\n        this.props.dispatch(getAllFonts());\n        this.props.dispatch(getAllFontColors());\n    }\n\n    componentWillReceiveProps(props) {\n        if (!props.fonts.isFetching && !props.fonts.isError) {\n            let fonts = props.fonts.response.data, fontsList = {};\n            fonts.map((data, index) => {\n                fontsList[data.font_id] = data\n            })\n            this.setState({ fonts: fontsList });\n        }\n        if (!props.fontsizes.isFetching && !props.fontsizes.isError) {\n            let fontsizes = props.fontsizes.response.data, fontsList = {};\n            fontsizes.map((data, index) => {\n                fontsList[data.font_size_id] = data\n            })\n            this.setState({ fontSizes: fontsList });\n        }\n        if (!props.fontcolors.isFetching && !props.fontcolors.isError) {\n            let fontcolors = props.fontcolors.response.data, fontsList = {};\n            fontcolors.map((data, index) => {\n                fontsList[data.promize_font_color_id] = data\n            })\n            this.setState({ fontColors: fontsList });\n        }\n    }\n\n    render() {\n        let { fonts, fontSizes, fontColors } = this.state\n        let promize_attribute_text_values = this.props.promize_attribute_text_values\n        let tab_attribute_values = (this.props.tab_attribute_values && (!_.isEmpty(this.props.tab_attribute_values))) ? this.props.tab_attribute_values : this.props.tab_attribute_data_values\n        return <>\n            <div className=\"promize-widget-header\">\n                <h3 className=\"promize-widget-title\">\n                    <div className=\"promize-widget-sub-title\">\n                        <i className=\"fa fa-font\"></i><span><b>{this.props.attribute_name}</b></span>\n                    </div>\n                </h3>\n                <div className=\"promize-widget-action df\">\n                    <ul className=\"df\">\n                        <li>\n                            <button className=\"btn btn-tbl\" onClick={(e) => { this.props.openSetBoundaryPopup(e, { type: \"text\", tab_text_attribute_values: this.props.promize_attribute_text_values }) }} title=\"Set Boundary\">\n                                <i className=\"fa fa-crosshairs\"></i><span class=\"promize-btn-description\"> Boundary / Default View</span>\n                            </button>\n                        </li>\n                        <li>\n                            <button className=\"btn btn-tbl\" title=\"Delete\" onClick={(e) => { this.props.deleteAttributeFromTab(e, this.props.promize_attribute_id, this.props.tab_id) }}><i className=\"fa fa-trash-alt\"></i><span class=\"promize-btn-description\">Remove</span></button>\n                        </li>\n                    </ul>\n                </div>\n                {/* <div className=\"promize-widget-drag\">\n                    <button className=\"btn\"><i className=\"fa fa-bars\"></i></button>\n                </div> */}\n                <div className=\"promize-widget-toggle\">\n                    <button className={\"btn \" + (this.state.toggle ? \"\" : \"toggle\")} onClick={(e) => { this.setState({ toggle: !this.state.toggle }) }} ><i className=\"fa fa-angle-down\"></i></button>\n                </div>\n            </div>\n            {this.state.toggle && <div className=\"promize-widget-body bg-grey\">\n                <div className=\"promize-tab-option-container\">\n                    {\n                        tab_attribute_values && Object.keys(tab_attribute_values).length > 0 && Object.keys(tab_attribute_values).map((key, index) => {\n                            let tabAttributeValueData = tab_attribute_values[key]\n                            let optionData = tabAttributeValueData.promize_attribute_text_values_id ? tabAttributeValueData : promize_attribute_text_values.find((obj) => { return obj.promize_attribute_text_values_id == tabAttributeValueData.promize_attribute_values_id })\n                            let font_id = optionData.font_ids.split(',');\n                            let font_size_ids = optionData.font_size_ids.split(',')\n                            let font_color_ids = optionData.font_color_ids.split(',')\n                            return (<>\n                                <div className=\"df\">\n                                    <div className=\"wd-33\">\n                                        {Object.keys(fonts).length > 0 && optionData && <div className=\"mb-10\"><p className=\"mb-10\">{\"Default Font\"}</p><span className=\"promize-text-highlight-aa\">{fonts[optionData.default_font_family].font_name}</span></div>}\n                                        <p className=\"promize-options-title mb-10\">{\"Fonts\"}</p>\n                                        <ul className=\"promize-text-options\">\n                                            {\n                                                fonts && font_id.map((id, index) => {\n                                                    let font = fonts[id];\n                                                    return font && <li className=\"promize-text-highlight-aa\">{font.font_name}</li>\n                                                })\n                                            }\n                                        </ul>\n                                    </div>\n                                    <div className=\"wd-33\">\n                                        {Object.keys(fontSizes).length > 0 && <div className=\"mb-10\"><p className=\"mb-10\">{\"Default Font Size\"}</p><span className=\"promize-text-highlight-aa\">{fontSizes[optionData.default_font_size].font_size}</span></div>}\n                                        <p className=\"promize-options-title mb-10   \">{\"Font Sizes\"}</p>\n                                        <ul className=\"promize-text-options\">\n                                            {\n                                                fontSizes && font_size_ids.map((id, index) => {\n                                                    let font = fontSizes[id];\n                                                    return font && <li className=\"promize-text-highlight-aa\">{font.font_size}</li>\n                                                })\n                                            }\n                                        </ul>\n                                    </div>\n                                    <div className=\"wd-33\">\n                                        {Object.keys(fontColors).length > 0 && <div className=\"mb-10\"><p className=\"mb-10\">{\"Default Font Color\"}</p><span className=\"promize-text-highlight-aa\">{fontColors[optionData.default_color].font_color_name}</span></div>}\n                                        <p className=\"promize-options-title mb-10   \">{\"Font Colors\"}</p>\n                                        <ul className=\"promize-text-options\">\n                                            {\n                                                fontColors && font_color_ids.map((id, index) => {\n                                                    let font = fontColors[id];\n                                                    return font && <li className=\"promize-text-highlight-aa\">{font.font_color_name}</li>\n                                                })\n                                            }\n                                        </ul>\n                                    </div>\n                                </div>\n                            </>\n                            )\n                        })\n                    }\n                </div>\n            </div>}\n        </>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        fonts: state.fonts,\n        fontsizes: state.fontsizes,\n        fontcolors: state.fontcolors,\n    };\n}\n\nexport default connect(mapStateToProps)(Text);","import React from 'react';\n\nclass InputMultple extends React.Component {\n\n\tclassNameCheck() {\n\t\tconst validation = this.props.form.validation(this.props.fieldName)\n\t\tconst message = validation ? this.props.state.inputErrors[this.props.fieldName].message : '';\n\t\tconst classValidation = `form-group ${validation ? 'feild-wrong' : ''} ${this.props.value && !validation ? 'feild-sucess' : ''}`\n\t\tconst className = this.props.validation ? classValidation : 'form-group';\n\t\treturn { 'className': className, 'message': message, 'validation': validation };\n\t}\n\n\tinput() {\n\t\tconst validation = this.classNameCheck();\n\t\treturn (<React.Fragment><div className=\"promize-form-group\">\n\t\t\t<label htmlFor={this.props.fieldName} className=\"promize-form-control-label\">{this.props.labelName}{this.props.validation && <sup>*</sup>}</label>\n\t\t\t<textarea className=\"promize-form-control\"\n\t\t\t\ttype={this.props.inputType ? this.props.inputType : \"text\"}\n\t\t\t\tid={this.props.fieldName}\n\t\t\t\tstep={this.props.inputStep ? this.props.inputStep : \"\"}\n\t\t\t\tdata-type={this.props.dataType || \"text\"}\n\t\t\t\tdata-name={this.props.dataName}\n\t\t\t\tplaceholder={\" \"}\n\t\t\t\tname={this.props.fieldName}\n\t\t\t\tonBlur={this.props.onBlur || this.props.form.blurEventListner}\n\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\tonChange={this.props.onChange || this.props.form.handleFieldsChange}\n\t\t\t\tvalue={this.props.value}\n\t\t\t\tdata-validation-name={this.props.labelName}\n\t\t\t\tmaxLength={this.props.maxLength}\n\t\t\t\trows=\"2\" />\n\n\t\t\t{validation['validation'] && <span className=\"promize-form-error\">{`${this.props.labelName} ` + validation['message']}</span>}\n\t\t</div></React.Fragment>);\n\t}\n\n\trender() {\n\n\t\treturn (<React.Fragment>\n\t\t\t{this.input()}\n\t\t</React.Fragment>);\n\t}\n}\n\nexport default InputMultple;\n","import React from 'react'\nimport Input from '../../components/form/input'\nimport InputMultple from '../../components/form/inputMultple'\nimport Switchtoggle from '../../components/form/switchtoggle'\nimport ImageUpload from '../../components/files/ImageUpload'\nimport Options from './Attribute/Options'\nimport Cliparts from './Attribute/Cliparts'\nimport Image from './Attribute/Image'\nimport Text from './Attribute/Text'\nimport RadioButton from '../../components/form/radioButton';\n\nclass Subtab extends React.Component {\n    state = {\n        toggle: false,\n        highlight: false,\n    }\n    /**\n     * On Drag Over\n     * @param {Event | Object} ev event object from the Drag\n     */\n    onDragOver = ev => {\n        ev.preventDefault();\n        ev.dataTransfer.dropEffect = \"copy\";\n        this.setState({ highlight: true })\n    };\n    onDragLeave = ev => {\n        this.setState({ highlight: false })\n    }\n    onDrop = (e, sectIndex, tabIndex) => {\n        this.setState({ highlight: false })\n        this.props.onDrop(e, sectIndex, tabIndex)\n    }\n\n    render() {\n        let {tabData, sectIndex, tabIndex, subTabIndex, parentTabData} = this.props\n        let {highlight} = this.state\n        let style = tabData.tab_style ? JSON.parse(tabData.tab_style) :{display:1, height:50, width:50}\n\n        return <>\n            <div className={\"promize-dragable-tab-container  mb-20\"} draggable onDragStart={e => this.props.onSubTabDragStart(e, tabData, subTabIndex)} onDragOver={e => this.props.onSubTabDragOver(e)} onDrop={e => {this.props.onSubTabDrop(e, subTabIndex, sectIndex, parentTabData.promize_tab_id)}}>\n                <div className=\"promize-widget promize-subtab\">\n                    <div className=\"promize-widget-header\">\n                        <h3 className=\"promize-widget-title\">\n                            {tabData.tab_name}\n                        </h3>\n                        <div className=\"promize-widget-action df\">\n                            <ul className=\"df\">\n                                {this.props.actionButtons(tabData, sectIndex, tabIndex, this.props.parentTabData)}\n                            </ul>\n                        </div>\n                        {/* <div className=\"promize-widget-drag\">\n                            <button className=\"btn\"><i className=\"fa fa-bars\"></i></button>\n                        </div> */}\n                        <div className=\"promize-widget-toggle\">\n                        <button className={\"btn \" + (this.state.toggle ? \"\" : \"toggle\")} onClick={(e) => { this.setState({ toggle: !this.state.toggle }) }} ><i className=\"fa fa-angle-down\"></i></button>\n                        </div>\n                    </div>\n                    {this.state.toggle && <div className={\"promize-widget-body\"}>\n                    <div className=\"df df-wrap\">\n                            <div className=\"wd-70\">\n                                <div className=\"df\">\n                                    <div className=\"wd-40\">\n                                        <div className=\"mr-15\">\n                                            <Input {...this.props}\n                                                fieldName={'tab_name'}\n                                                value={tabData.tab_name}\n                                                labelName={\"Tab Name\"}\n                                                validation={false}\n                                                onBlur={e => this.props.handleFieldBlur(e, 'tab_name', tabIndex)}\n                                                onChange={e => this.props.handleFieldChange(e, 'tab_name', tabIndex)}\n                                            />\n                                        </div>\n                                    </div>\n                                    <div class=\"wd-40\">\n                                        <div class=\"mr-15\">\n                                            <div class=\"promize-form-group\">\n                                                <label for=\"tab_layer_no\" class=\"promize-form-control-label\">Choose Default View</label>\n                                                <select class=\"promize-form-control\">\n                                                    <option>Choose</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"wd-20\">\n                                        <div className=\"mr-15\">\n                                            <Input {...this.props}\n                                                fieldName={'tab_layer_no'}\n                                                value={tabData.tab_layer_no}\n                                                labelName={\"Tab Layer No\"}\n                                                validation={false}\n                                                onBlur={e => this.props.handleFieldBlur(e, 'tab_layer_no', tabIndex)}\n                                                onChange={e => this.props.handleFieldChange(e, 'tab_layer_no', tabIndex)}\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"wd-30\">\n                                <div className=\"df\">\n                                    <div className=\"wd-50\">\n                                        <Switchtoggle {...this.state}\n                                            className=\"toggle-aa\"\n                                            labelName={'Tab Required'}\n                                            fieldName={'tab_required'}\n                                            dataName={'tab_required'}\n                                            id={\"tab_required\" + tabIndex}\n                                            value={tabData.tab_required}\n                                            spanLabel={{ first: \"Active\", second: \"Inactive\" }}\n                                            checkValue={{ first: true, second: false }}\n                                            validation={false}\n                                            onChange={e => this.props.handleSwitchChange(e, 'tab_required', tabIndex)}\n                                        />\n                                    </div>\n                                    <div className=\"wd-50\">\n                                        <Switchtoggle {...this.state}\n                                            className=\"toggle-aa\"\n                                            labelName={'Default Tab'}\n                                            fieldName={'is_default_tab'}\n                                            dataName={'is_default_tab'}\n                                            id={\"is_default_tab\" + tabIndex}\n                                            value={tabData.is_default_tab}\n                                            spanLabel={{ first: \"Active\", second: \"Inactive\" }}\n                                            checkValue={{ first: true, second: false }}\n                                            validation={false}\n                                            onChange={e => this.props.handleSwitchChange(e, 'is_default_tab', tabIndex)}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"wd-100\">\n                            <div class=\"df\">\n                            <div className=\"wd-70\">\n                                <div className=\"mr-15\">\n                                    <InputMultple {...this.props}\n                                        fieldName={'tab_description'}\n                                        value={tabData.tab_description}\n                                        labelName={\"Tab Description\"}\n                                        validation={false}\n                                        onBlur={e => this.props.handleFieldBlur(e, 'tab_description', tabIndex)}\n                                        onChange={e => this.props.handleFieldChange(e, 'tab_description', tabIndex)}\n                                    />\n                                </div>\n                            </div>\n                            <div>\n                                <div className=\"mr-15\">\n                                <ImageUpload\n                                    callBack={true}\n                                    setDate={(data) => {\n                                        this.props.setCurrentTab(data)\n                                    }}\n                                    data={tabData.promize_tab_id}\n                                    labelName={\"Tab Thumbnail\"}\n                                    fieldName={'tab_thumbnail'}\n                                    dataName={'tab_thumbnail'}\n                                    form={this.props.tabThumbnailImages}\n                                    validation={false}\n                                    imageType={\"tab_thumbnail\"}\n                                    image_url={tabData.tab_icon}\n                                    value={tabData.tab_icon}\n                                    type={'icon'}\n                                />\n                                </div>   \n                            </div>\n                        </div>\n                        </div> \n                        </div>\n                        <div className=\"wd-100\">\n                            <div className=\"df bg-grey pd-20\">\n                                <div className=\"\">\n                                    <h3 class=\"promize-widget-title\">Option Display type</h3>\n                                    <p class=\"promize-sub-content mt-5 mb-20\">Enter the tab description for the shirt pockete</p>\n                                    <RadioButton {...this.props}\n                                            labelName={' '}\n                                            fieldName={'tab_style'}\n                                            dataName={'tab_style'}\n                                            value={style.display}\n                                            checkValue={[\n                                                { label: \"Square\", value: 1 },\n                                                { label: \"Circle\", value: 2 },\n                                                { label: \"Radio\", value: 3 },\n                                                { label: \"Checkbox\", value: 4 },\n                                                { label: \"Select\", value: 5 },\n                                                { label:'Input', value:6}\n                                            ]}\n                                            validation={false}\n                                            onChange={this.props.onChangeHandler}\n                                            promize_tab_id = {tabIndex}\n                                    />\n                                    \n                                </div>\n                                <div class=\"promize-display-set\">\n                                    <div class=\"df\">\n                                        <div class=\"wd-50 mr-15\">\n                                            <Input {...this.props}\n                                                fieldName={'height'}\n                                                value={style.height}\n                                                labelName={\"Display Height\"}\n                                                validation={false}\n                                                onBlur={e => this.props.handleStyleFieldBlur(e, 'height', tabIndex)}\n                                                onChange={e => this.props.handleStyleFieldChange(e, 'height', tabIndex)}\n                                            />\n                                        </div>\n                                        <div class=\"wd-50\">\n                                            <Input {...this.props}\n                                                fieldName={'width'}\n                                                value={style.width}\n                                                labelName={\"Display Width\"}\n                                                validation={false}\n                                                onBlur={e => this.props.handleStyleFieldBlur(e, 'width', tabIndex)}\n                                                onChange={e => this.props.handleStyleFieldChange(e, 'width', tabIndex)}\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            </div>\n                        {<div>\n                            <div className=\"promize-attr-section mt-15\">\n                                <h3 className=\"promize-attr-title\">Attributes</h3>\n                            </div>\n                            {tabData.tab_attribute && Object.keys(tabData.tab_attribute).length > 0 && Object.keys(tabData.tab_attribute).map((key, index) => {\n                                let tabAttributeData = tabData.tab_attribute[key]\n                                let tab_attribute_data_image_values = tabAttributeData.promize_attribute_image_values ? tabAttributeData.promize_attribute_image_values : ''\n                                let tab_attribute_data_text_values = tabAttributeData.promize_attribute_text_values ? tabAttributeData.promize_attribute_text_values : ''\n                                let tab_attribute_data_clipart_values = tabAttributeData.promize_attribute_clipart_values ? tabAttributeData.promize_attribute_clipart_values : ''\n                                let tab_attribute_data_values = tabAttributeData.promize_attribute_values ? tabAttributeData.promize_attribute_values : ''\n                                return <div className=\"promize-widget mb-15\" key={index}>\n                                    {tabAttributeData.attribute_type == \"option\" && <Options default_option={\"\"} tab_attribute_data_values={tab_attribute_data_values} {...tabAttributeData}  {...this.props} tab_id={tabIndex} />}\n                                    {tabAttributeData.attribute_type == \"clipart\" && <Cliparts default_option={\"\"} tab_attribute_data_values={tab_attribute_data_clipart_values} {...tabAttributeData} {...this.props} tab_id={tabIndex} />}\n                                    {tabAttributeData.attribute_type == \"text\" && <Text default_option={\"\"} tab_attribute_data_values={tab_attribute_data_text_values} {...tabAttributeData} {...this.props} tab_id={tabIndex} />}\n                                    {tabAttributeData.attribute_type == \"image\" && <Image default_option={\"\"} tab_attribute_data_values={tab_attribute_data_image_values} {...tabAttributeData} {...this.props} tab_id={tabIndex} />}\n                                </div>\n                            })}\n                        </div>}\n                        <div className={\"promize-drop-attr \" + (highlight ? 'promize-highlight' : '')} onDrop={e => { this.onDrop(e, sectIndex, tabIndex) }} onDragOver={this.onDragOver} onDragLeave={this.onDragLeave}>\n                            <p>Drag and Drop the attribute from the <b>Attributes List</b></p>\n                        </div>\n                    </div>}\n                </div>\n            </div>\n        </>\n    }\n}\n\nexport default Subtab","import React, { Component } from 'react'\nimport Options from './Attribute/Options'\nimport Cliparts from './Attribute/Cliparts'\nimport Image from './Attribute/Image'\nimport Text from './Attribute/Text'\nimport Input from '../../components/form/input'\nimport InputMultple from '../../components/form/inputMultple'\nimport Switchtoggle from '../../components/form/switchtoggle'\nimport ImageUpload from '../../components/files/ImageUpload'\nimport SubTab from './subTab'\nimport RadioButton from '../../components/form/radioButton';\n\n\nclass Tabs extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hightlight: true,\n            toggle: false,\n            subTabHide: {},\n        }\n        this.onDrop = this.onDrop.bind(this);\n    }\n    /**\n     * On Drag Over\n     * @param {Event | Object} ev event object from the Drag\n     */\n    onDragOver = ev => {\n      //  ev.preventDefault();\n        ev.dataTransfer.dropEffect = \"copy\";\n        this.setState({ highlight: true })\n    };\n    onDragLeave = ev => {\n        this.setState({ highlight: false })\n    }\n    onDrop(e, sectIndex, tabIndex){\n        this.setState({ highlight: false })\n        this.props.onDrop(e, sectIndex, tabIndex)\n    }\n\n    getTabContent = (tabData, sectIndex, tabIndex, parentTabData, subTabIndex) => {\n        const data = {\n            tabData,\n            sectIndex,\n            tabIndex,\n            parentTabData, \n            subTabIndex\n        }\n        return <SubTab {...this.props} {...data}/>\n    }\n\n    render() {\n        const { highlight } = this.state\n        const displayTab = this.props.state.openTab\n        const tabs = this.props.state.tabs\n        let { tabData, sectIndex, tabIndex, indexVal } = this.props\n        let sorted_sub_tabs = (tabData.promize_sub_tabs && tabData.promize_sub_tabs.length) > 0 ? (tabData.promize_sub_tabs.sort((a, b)=>{\n            return a.sort_id - b.sort_id\n        })) : []\n        let style = tabData.tab_style ? JSON.parse(tabData.tab_style) :{display:1, height:50, width:50}\n        if (tabData.is_sub_tab == 1) {\n            return ''\n        }\n        return <>\n            <div className={\"promize-dragable-tab-container mb-20\"} draggable onDragStart={e => this.props.onTabDragStart(e, tabData, indexVal)} onDragOver={e => this.props.onTabDragOver(e, indexVal, sectIndex)} onDragLeave ={e=> this.props.onTabDragEnter(e, indexVal, sectIndex)} onDrop={e => {this.props.onTabDrop(e, indexVal, sectIndex)}}>\n                <div className=\"promize-widget\">\n                    <div className=\"promize-widget-header\">\n                        <h3 className=\"promize-widget-title\">\n                            {tabData.tab_name}\n                        </h3>\n                        <div className=\"promize-widget-action\">\n                            <ul className=\"df\">\n                                {this.props.actionButtons(tabData, sectIndex, tabIndex)}\n                            </ul>\n                        </div>\n                        {/* <div className=\"promize-widget-drag\">\n                            <button className=\"btn\"><i className=\"fa fa-bars\"></i></button>\n                        </div> */}\n                        <div className=\"promize-widget-toggle\">\n                            <button className={((parseInt(displayTab.tabIndex) == parseInt(tabIndex)) && (parseInt(displayTab.sectIndex) == parseInt(sectIndex)) ) ? \"btn\" : \"btn toggle\"} onClick={(e) => { this.props.openTab(e, tabIndex, sectIndex) }} ><i className=\"fa fa-angle-down\"></i></button>\n                        </div>\n                    </div>\n                    {<div className={((parseInt(displayTab.tabIndex) == parseInt(tabIndex)) && (parseInt(displayTab.sectIndex) == parseInt(sectIndex)) ) ? \"promize-widget-body db\" : \"promize-widget-body dn\"}>\n                        <div className=\"df df-wrap\">\n                            <div className=\"wd-70\">\n                                <div className=\"df\">\n                                    <div className=\"wd-40\">\n                                        <div className=\"mr-15\">\n                                            <Input {...this.props}\n                                                fieldName={'tab_name'}\n                                                value={tabData.tab_name}\n                                                labelName={\"Tab Name\"}\n                                                validation={false}\n                                                onBlur={e => this.props.handleFieldBlur(e, 'tab_name', tabIndex)}\n                                                onChange={e => this.props.handleFieldChange(e, 'tab_name', tabIndex)}\n                                            />\n                                        </div>\n                                    </div>\n                                    <div class=\"wd-40\">\n                                        <div class=\"mr-15\">\n                                            <div class=\"promize-form-group\">\n                                                <label for=\"tab_layer_no\" class=\"promize-form-control-label\">Choose Default View</label>\n                                                <select class=\"promize-form-control\">\n                                                    <option>Choose</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"wd-20\">\n                                        <div className=\"mr-15\">\n                                            <Input {...this.props}\n                                                fieldName={'tab_layer_no'}\n                                                value={tabData.tab_layer_no}\n                                                labelName={\"Tab Layer No\"}\n                                                validation={false}\n                                                onBlur={e => this.props.handleFieldBlur(e, 'tab_layer_no', tabIndex)}\n                                                onChange={e => this.props.handleFieldChange(e, 'tab_layer_no', tabIndex)}\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"wd-30\">\n                                <div className=\"df\">\n                                    <div className=\"wd-50\">\n                                        <Switchtoggle {...this.state}\n                                            className=\"toggle-aa\"\n                                            labelName={'Tab Required'}\n                                            fieldName={'tab_required'}\n                                            dataName={'tab_required'}\n                                            id={\"tab_required\" + tabIndex}\n                                            value={tabData.tab_required}\n                                            spanLabel={{ first: \"Active\", second: \"Inactive\" }}\n                                            checkValue={{ first: true, second: false }}\n                                            validation={false}\n                                            onChange={e => this.props.handleSwitchChange(e, 'tab_required', tabIndex)}\n                                        />\n                                    </div>\n                                    <div className=\"wd-50\">\n                                        <Switchtoggle {...this.state}\n                                            className=\"toggle-aa\"\n                                            labelName={'Default Tab'}\n                                            fieldName={'is_default_tab'}\n                                            dataName={'is_default_tab'}\n                                            id={\"is_default_tab\" + tabIndex}\n                                            value={tabData.is_default_tab}\n                                            spanLabel={{ first: \"Active\", second: \"Inactive\" }}\n                                            checkValue={{ first: true, second: false }}\n                                            validation={false}\n                                            onChange={e => this.props.handleSwitchChange(e, 'is_default_tab', tabIndex)}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"wd-100\">\n                            <div class=\"df\">\n                            <div className=\"wd-70\">\n                                <div className=\"mr-15\">\n                                    <InputMultple {...this.props}\n                                        fieldName={'tab_description'}\n                                        value={tabData.tab_description}\n                                        labelName={\"Tab Description\"}\n                                        validation={false}\n                                        onBlur={e => this.props.handleFieldBlur(e, 'tab_description', tabIndex)}\n                                        onChange={e => this.props.handleFieldChange(e, 'tab_description', tabIndex)}\n                                    />\n                                </div>\n                            </div>\n                            <div>\n                                <div className=\"mr-15\">\n                                <ImageUpload\n                                    callBack={true}\n                                    setDate={(data) => {\n                                        this.props.setCurrentTab(data)\n                                    }}\n                                    data={tabData.promize_tab_id}\n                                    labelName={\"Tab Thumbnail\"}\n                                    fieldName={'tab_thumbnail'}\n                                    dataName={'tab_thumbnail'}\n                                    form={this.props.tabThumbnailImages}\n                                    validation={false}\n                                    imageType={\"tab_thumbnail\"}\n                                    image_url={tabData.tab_icon}\n                                    value={tabData.tab_icon}\n                                    type={'icon'}\n                                />\n                                </div>   \n                            </div>\n                        </div>\n                        </div> \n                        </div>\n                        <div className=\"wd-100\">\n                            <div className=\"df bg-grey widget-body pd-20\">\n                                <div className=\"\">\n                                    <h3 class=\"promize-widget-title\">Option Display type</h3>\n                                    <p class=\"promize-sub-content mt-5 mb-20\">Enter the tab description for the shirt pockete</p>\n                                    <RadioButton {...this.props}\n                                            labelName={' '}\n                                            fieldName={'tab_style'}\n                                            dataName={'tab_style'}\n                                            value={style.display}\n                                            checkValue={[\n                                                { label: \"Square\", value: 1 },\n                                                { label: \"Circle\", value: 2 },\n                                                { label: \"Radio\", value: 3 },\n                                                { label: \"Checkbox\", value: 4 },\n                                                { label: \"Select\", value: 5 },\n                                                { label:'Input', value:6}\n                                            ]}\n                                            validation={false}\n                                            onChange={this.props.onChangeHandler}\n                                            promize_tab_id = {tabIndex}\n                                    />\n                                    \n                                </div>\n                                <div class=\"promize-display-set\">\n                                    <div class=\"df\">\n                                        <div class=\"wd-50 mr-15\">\n                                            <Input {...this.props}\n                                                fieldName={'height'}\n                                                value={style.height}\n                                                labelName={\"Display Height\"}\n                                                validation={false}\n                                                onBlur={e => this.props.handleStyleFieldBlur(e, 'height', tabIndex)}\n                                                onChange={e => this.props.handleStyleFieldChange(e, 'height', tabIndex)}\n                                            />\n                                        </div>\n                                        <div class=\"wd-50\">\n                                            <Input {...this.props}\n                                                fieldName={'width'}\n                                                value={style.width}\n                                                labelName={\"Display Width\"}\n                                                validation={false}\n                                                onBlur={e => this.props.handleStyleFieldBlur(e, 'width', tabIndex)}\n                                                onChange={e => this.props.handleStyleFieldChange(e, 'width', tabIndex)}\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            </div>\n                        <div>\n                            <div className=\"promize-attr-section mt-15\">\n                                <h3 className=\"promize-attr-title\">Attributes</h3>\n                            </div>\n                            {tabData.promize_tab_attributes && Object.keys(tabData.promize_tab_attributes).length > 0 && <> { \n                             (tabData.promize_tab_attributes).map((data, index) => {\n                                let tabAttributeData = tabData.tab_attribute[data.promize_tab_attribute_id]\n                                if (!tabAttributeData) {\n                                    return false\n                                }\n                                let tab_attribute_data_image_values = tabAttributeData.promize_attribute_image_values ? tabAttributeData.promize_attribute_image_values : ''\n                                let tab_attribute_data_text_values = tabAttributeData.promize_attribute_text_values ? tabAttributeData.promize_attribute_text_values : ''\n                                let tab_attribute_data_clipart_values = tabAttributeData.promize_attribute_clipart_values ? tabAttributeData.promize_attribute_clipart_values : ''\n                                let tab_attribute_data_values = tabAttributeData.promize_attribute_values ? tabAttributeData.promize_attribute_values : ''\n                                return   <div key={index} className={\"promize-dragable-tab-container mb-20\"} draggable onDragStart={e => this.props.onAttributeDragStart(e, tabData, (index+1))} onDragOver={e => this.props.onAttributeDragOver(e)} onDrop={e => {this.props.onAttributeDrop(e, (index+1), sectIndex, tabIndex)}}><div className=\"promize-widget mb-15\"  >\n                                    {tabAttributeData.attribute_type == \"option\" && <Options default_option={\"\"} tab_id={tabIndex} tab_attribute_data_values={tab_attribute_data_values} deleteAttributeFromTab={this.props.deleteAttributeFromTab} {...tabAttributeData}  {...this.props} />}\n                                    {tabAttributeData.attribute_type == \"clipart\" && <Cliparts default_option={\"\"} deleteAttributeFromTab={this.props.deleteAttributeFromTab} tab_id={tabIndex} tab_attribute_data_values={tab_attribute_data_clipart_values} {...tabAttributeData} {...this.props} />}\n                                    {tabAttributeData.attribute_type == \"text\" && <Text default_option={\"\"} deleteAttributeFromTab={this.props.deleteAttributeFromTab} tab_id={tabIndex} tab_attribute_data_values={tab_attribute_data_text_values} {...tabAttributeData} {...this.props} />}\n                                    {tabAttributeData.attribute_type == \"image\" && <Image default_option={\"\"} deleteAttributeFromTab={this.props.deleteAttributeFromTab} tab_id={tabIndex} tab_attribute_data_values={tab_attribute_data_image_values} {...tabAttributeData} {...this.props} />}\n                                </div></div>\n                            })}</>}\n                        </div>\n                        <div className={\"promize-drop-attr \" + (highlight ? 'promize-highlight' : '')} onDrop ={e => { this.onDrop(e, sectIndex, tabIndex) }} onDragOver={this.onDragOver} onDragLeave={this.onDragLeave}>\n                            <p>Drag and Drop the attribute from <b>Attributes List</b></p>\n                        </div>\n                        {tabData.promize_sub_tabs && tabData.promize_sub_tabs.length > 0 &&\n                            <div className=\"mt-15\">\n                                <div className=\"promize-attr-section\">\n                                    <h3 className=\"promize-attr-title\">Sub Tabs</h3>\n                                </div>\n                                {sorted_sub_tabs.map((subTabData, subTabIndex) => {\n                                    let subTab = tabs[subTabData.child_tab_id]\n                                    return subTab && <div className=\"sub-tab-content\" key={subTabIndex}>{this.getTabContent(subTab, sectIndex, subTabData.child_tab_id,tabData, (subTabIndex+1))}</div>\n                                })\n                                }\n                            </div>}\n                    </div>}\n                </div>\n            </div>\n        </>\n    }\n}\n\nexport default Tabs","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport toastr from 'toastr';\nimport { getAllAttributes } from '../../actions/attributes';\nimport noData from '../../assets/images/no-data.png';\nimport CheckBox from '../../components/form/CheckBox';\nimport Search from '../../components/form/Search';\nimport {SetOptionPosition, SetTabPosition, SetBoundary} from \"../../components/form\"\nimport {Link} from 'react-router-dom'\nimport Form from '../../utility/Form';\nimport Tabs from './tab.jsx';\nimport { saveSection, saveTab, saveTabAttribute, linkTabAttributeValues,saveTabAttributeValues,uploadTabImage,uploadTabThumbnailImage,saveSubTab, linkTabAttributeClipartValues, deleteRecord, updateBulkRecord} from '../../actions/products';\nimport Input from '../../components/form/input';\nimport Popup from '../../components/design/Popup'\nexport const sectionvalidation = (props) => {\n    const rules = {\n        \"section_name\": \"required\",\n    }\n    return rules;\n}\n\nclass SectionForms extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            popup: false,\n            editSection:{\n                show: false,\n                data: {}\n            },\n            tab_attribute:{},\n            tab_attribute_values:{},\n            tab:{\n                tab_name:'New Tab',\n                tab_description:'',\n                tab_images:'',\n                tab_images_position:'',\n                tab_layer_no: 0,\n                tab_required: 0,\n                overlay_image:'',\n                overlay_position:'',\n                image_color_settings:'',\n                tab_thumbnail:'',\n                tab_style:JSON.stringify({display:1, height:50, width:50}),\n                sort_id: 0,\n                default_view: 0,\n                is_default_tab: 0,\n                promize_attribute_values:[],\n                tab_attributes:[],\n                default_option: \"\",\n                is_sub_tab : 0,\n                status : 1\n            },\n            selectedTabs: [],\n            selectedSubTabs: [],\n            openTab: {\n                sectIndex: '',\n                tabIndex: ''\n            },\n            subTabIndex: {\n                sectIndex: '',\n                tabIndex: ''\n            },\n            setOptionPosition:{\n                show:false,\n                data:{}\n            },\n            setTabPosition: {\n                show:false,\n                data:{}\n            },\n            setBoundary: {\n                show: false,\n                data:{}\n            },\n            currnetTabId: '',\n            searchText: '',\n            activeSectionId: '',\n            highlight:false,\n            parentTabId : ''\n        }\n        this.tabImages = Form.getInstance(\n            this, {},\n             {},\n            (tabImage)=>{\n                this.props.dispatch(uploadTabImage(tabImage, 'tab_image', 'imageUpload'))\n            },\n            {}\n        );\n        this.tabThumbnailImages = Form.getInstance(\n            this, {},\n            {},\n            (tabImage)=>{\n                this.props.dispatch(uploadTabThumbnailImage(tabImage, 'tab_image', 'imageUpload'))\n            },\n            {}\n        );\n        this.section = Form.getInstance(\n            this, {},\n            (fields) => {\n                console.log(\"alert\")\n            },\n            {},\n            {}\n        );\n        this.sectionRefs = {}\n        let sections = {}\n        let tabs = {};\n        this.props.productDetails && this.props.productDetails.promize_sections && this.props.productDetails.promize_sections.map((section,index)=>{\n            sections[section.promize_section_id] = {\n                ...section\n            }\n            section.promize_tabs.map((tab,tab_index)=>{\n                tabs[tab.promize_tab_id] = tab\n                tabs[tab.promize_tab_id].tab_attribute = {}\n                tab.promize_tab_attributes.map((attribute, attr_index)=>{\n                    tabs[tab.promize_tab_id].tab_attribute[attribute.promize_tab_attribute_id] = attribute.promize_attribute\n                    if(attribute.promize_attribute){\n                        let attributeData = attribute.promize_attribute\n                        if(attribute.promize_tab_attribute_values){\n                            attributeData.tab_attribute_values = {}\n                            attribute.promize_tab_attribute_values.map((tab_attr_value)=>{\n                                attributeData.tab_attribute_values[tab_attr_value.promize_tab_attribute_values_id] = tab_attr_value\n                            })\n                        }else if(attribute.promize_tab_text_attribute_values){\n                            attributeData.tab_text_attribute_values = {}\n                            attribute.promize_tab_text_attribute_values.map((tab_attr_value)=>{\n                                attributeData.tab_text_attribute_values[tab_attr_value.promize_tab_text_attribute_values_id] = tab_attr_value\n                            })\n                        }else if(attribute.promize_tab_image_attribute_values){\n                            attributeData.tab_image_attribute_values = {}\n                            attribute.promize_tab_image_attribute_values.map((tab_attr_value)=>{\n                                attributeData.tab_image_attribute_values[tab_attr_value.promize_tab_image_attribute_values_id] = tab_attr_value\n                            })\n                        }\n                        tabs[tab.promize_tab_id].tab_attribute[attribute.promize_tab_attribute_id] = attributeData\n                        //tabs[tab.promize_tab_id].tab_attribute[attribute.promize_tab_attribute_id].attribute = attributeData\n                    }\n                })\n            })\n        })\n        this.state.sections = sections\n        this.state.tabs = tabs\n        this.onDrop = this.onDrop.bind(this);\n        this.onDragStart = this.onDragStart.bind(this);\n        this.openSetOptionPositionPopup = this.openSetOptionPositionPopup.bind(this);\n        this.openSetBoundaryPopup = this.openSetBoundaryPopup.bind(this);\n        this.closePopup = this.closePopup.bind(this);\n        this.createTab = this.createTab.bind(this);\n        this.addAttributeToTab = this.addAttributeToTab.bind(this);\n        this.saveSectionToState = this.saveSectionToState.bind(this);\n        this.saveTabToState = this.saveTabToState.bind(this);\n        this.saveTabAttributeToState = this.saveTabAttributeToState.bind(this);\n        this.handleFieldChange = this.handleFieldChange.bind(this);\n        this.handleSwitchChange = this.handleSwitchChange.bind(this)\n        this.handleFieldBlur = this.handleFieldBlur.bind(this)\n        this.saveTabAttributeValuesList = this.saveTabAttributeValuesList.bind(this)\n        this.updateTabAttributeValues = this.updateTabAttributeValues.bind(this)\n        this.updateTabImages = this.updateTabImages.bind(this)\n        this.setCurrentTab = this.setCurrentTab.bind(this)\n        this.actionButtons = this.actionButtons.bind(this)\n        this.saveTabAttributeValues = this.saveTabAttributeValues.bind(this)\n        this.openTab = this.openTab.bind(this)\n    }\n    setRef = (ref,key) => {\n        this.sectionRefs[key] = ref;\n    };\n     \n    componentWillMount() {\n        this.props.dispatch(getAllAttributes());\n        this.props.new && this.props.dispatch(saveSection({\n            promize_customizer_id: this.props.state.fields.promize_customizer_id,\n            section_name: this.props.state.fields.promize_customizer_name,\n            sort_id:1\n        }))\n    }\n    componentDidMount(){\n        let {sectionContainer,sectionAddBtn} = this.refs;\n        if(sectionContainer && sectionAddBtn){\n            let sectionContainerBoundBox = sectionContainer.getBoundingClientRect()\n            let sectionAddBtnBoundBox = sectionAddBtn.getBoundingClientRect()\n            let sectionWrapperWidth = sectionContainerBoundBox.width - sectionAddBtnBoundBox.width\n            this.setState({sectionWrapperWidth})\n        }\n    }\n    componentWillReceiveProps(newProps){\n        let parentTabId = this.state.parentTabId;\n        if(!newProps.section.isFetching && !newProps.section.isError && this.props.section.isFetching != newProps.section.isFetching){\n            this.saveSectionToState(newProps.section.response.records,newProps.section)\n        }\n        if(newProps.tab && newProps.tab.response !== this.props.tab.response && newProps.tab.method == \"POST\" && !newProps.tab.isFetching && !newProps.tab.isError && this.props.tab.isFetching != newProps.tab.isFetching){\n            if(parentTabId){\n                let obj = {\n                    parent_tab_id : parentTabId,\n                    child_tab_id : newProps.tab.response.records.promize_tab_id\n                }\n                this.setState({parentTabId : ''},()=>{\n                    this.props.dispatch(saveSubTab(obj));\n                })\n            }\n            this.saveTabToState(newProps.tab.response.records)\n        } \n        if(newProps.tab && !newProps.tab.isFetching && !newProps.tab.isError && this.props.tab.isFetching != newProps.tab.isFetching){\n            this.saveTabToState(newProps.tab.response.records)\n        }\n        if(newProps.subTab && !newProps.subTab.isFetching && !newProps.subTab.isError && this.props.subTab.isFetching != newProps.subTab.isFetching){\n            this.saveSubTabToState(newProps.subTab.response.records);\n        }\n        if(newProps.tabAttribute && !newProps.tabAttribute.isFetching && !newProps.tabAttribute.isError && this.props.tabAttribute.isFetching != newProps.tabAttribute.isFetching){\n            this.saveTabAttributeToState(newProps.tabAttribute.response.records);\n        }\n        if(newProps.tabAttributevalueslist && !newProps.tabAttributevalueslist.isFetching && !newProps.tabAttributevalueslist.isError && this.props.tabAttributevalueslist.isFetching != newProps.tabAttributevalueslist.isFetching){\n            this.saveTabAttributeValuesList(newProps.tabAttributevalueslist.response.records)\n        }\n        if(newProps.tabAttributevalues && !newProps.tabAttributevalues.isFetching && !newProps.tabAttributevalues.isError && this.props.tabAttributevalues.isFetching != newProps.tabAttributevalues.isFetching){\n            this.saveTabAttributeValues(newProps.tabAttributevalues.response.records)\n        }if(newProps.tabThumbnailImage && !newProps.tabThumbnailImage.isFetching && !newProps.tabThumbnailImage.isError && this.props.tabThumbnailImage.isFetching != newProps.tabThumbnailImage.isFetching){\n            this.saveTabImage(newProps.tabThumbnailImage.response.file)\n        }\n    }\n    /**\n     * Save Section Data to the state\n     * @param {Object} data Data Return from the Create API\n     */\n    saveSectionToState(data,sectionData){\n        let {sections} = this.state;\n        if(data){\n            let sectionsData = sections[data.promize_section_id] || {};\n            sections[data.promize_section_id] = {\n                ...sectionsData,\n                ...data\n            }\n        }\n        this.setState({sections,activeSectionId:data.promize_section_id},()=>{\n            sectionData.method && sectionData.method == \"POST\" && this.createTab({},data.promize_section_id)\n        });\n    }\n    /**\n     * save Tab to tht state\n     * @param {Object} data Data Return from the Create API\n     */\n        saveTabToState(data){\n        let {tabs} = this.state;\n        if(data){\n            let tabData = tabs[data.promize_tab_id] || {};\n            tabs[data.promize_tab_id] = {...tabData,...data}\n        }\n        this.setState({tabs});\n    }\n    /**\n     * save sub Tab to tht state\n     * @param {Object} data Data Return from the Create API\n     */\n    saveSubTabToState(data){\n        let {tabs} = this.state;\n        if(data){\n            let tabData = tabs[data.parent_tab_id] || {};\n            if(tabData.promize_sub_tabs == undefined){\n                tabData.promize_sub_tabs = []\n            }\n            tabData.promize_sub_tabs.push(data);\n            tabs[data.parent_tab_id] = {...tabData}\n        }\n        this.setState({tabs});\n    }\n\n     /**\n     * save sub Tab to tht state\n     * @param {Object} data Data Return from the Create API\n     */\n    deleteAttributeFromTab = (e, promize_attribute_id, tab_id)=>{\n        let popup = {};\n        const {tabs} = this.state;\n        popup.title = \"Remove Attribute\";\n        popup.content = 'Do you want to remove this attribute?';\n        popup.submit = () => {\n            this.deleteAttributeFromTabFn(e, promize_attribute_id, tab_id)\n        }\n        this.setState({popup})\n    }\n    deleteAttributeFromTabFn = (e, promize_attribute_id, tab_id) => {\n        e.preventDefault();\n        let {tabs} = this.state;\n        let deleteIndex = 0\n        let selectedTab = {\n            ...tabs[parseInt(tab_id)]\n        }\n        let tab_attributes = tabs[parseInt(tab_id)].promize_tab_attributes || tabs[parseInt(tab_id)].tab_attribute;\n        if(tab_attributes){\n            tab_attributes.map((tab_attr, index)=>{\n                if(tab_attr.promize_attribute_id == promize_attribute_id){\n                    deleteIndex = tab_attr.promize_tab_attribute_id\n                    let obj = {\n                        ids : [tab_attr.promize_tab_attribute_id],\n                        modelName:\"promize_tab_attribute\",\n                        idKey:\"promize_tab_attribute_id\",\n                    }\n                    this.props.dispatch(deleteRecord(obj))\n                }\n            })\n        }\n       deleteIndex && delete selectedTab.tab_attribute[deleteIndex]\n        tabs[parseInt(tab_id)] = selectedTab\n        this.setState({tabs});\n    }\n    /**\n     * save tab attribute to state\n     * @param {Object} data Data Return from the Create API\n     */\n    saveTabAttributeToState(data){\n        let {tabs} = this.state;\n        if(data && data.promize_tab_attribute_id && data.promize_tab_id){\n            let tab = tabs[data.promize_tab_id] || {};\n            tab.promize_tab_attributes = tab.promize_tab_attributes || [];\n            tab.tab_attribute = tab.tab_attribute || {};\n            let attributeData = this.props.attributes.response.data.find(o => o.promize_attribute_id === data.promize_attribute_id)\n            tab.tab_attribute[data.promize_tab_attribute_id] = {\n                ...data,\n                ...attributeData\n            }\n           tab.promize_tab_attributes.push(tab.tab_attribute[data.promize_tab_attribute_id])\n            tabs[data.promize_tab_id] = tab\n            this.setState({tabs},()=>{\n                let tabAttributeValues = []\n                let attributeData = this.props.attributes.response.data.find(o => o.promize_attribute_id === data.promize_attribute_id)\n                if(attributeData.promize_attribute_values.length > 0){\n                    attributeData.promize_attribute_values.map((attributeData,index)=>{\n                        tabAttributeValues.push({\n                            promize_tab_attribute_id : parseInt(data.promize_tab_attribute_id),\n                            promize_attribute_values_id : attributeData.promize_attribute_values_id,\n                        })\n                    })\n                    tabAttributeValues.length > 0 && this.props.dispatch(linkTabAttributeValues(tabAttributeValues))\n                }else if(attributeData.promize_attribute_clipart_values.length > 0){\n                    attributeData.promize_attribute_clipart_values.map((attributeData,index)=>{\n                        tabAttributeValues.push({\n                            promize_tab_attribute_id : parseInt(data.promize_tab_attribute_id),\n                            promize_attribute_values_id : attributeData.promize_attribute_clipart_values_id,\n                        })\n                    })\n                    let tempObj = {\n                        data : tabAttributeValues,\n                        obj : {modelName : 'promize_tab_clipart_attribute_values'}\n                    }\n                    tabAttributeValues.length > 0 && this.props.dispatch(linkTabAttributeClipartValues(tempObj))\n                }else if(attributeData.promize_attribute_image_values.length > 0){\n                    attributeData.promize_attribute_image_values.map((attributeData,index)=>{\n                        tabAttributeValues.push({\n                            promize_tab_attribute_id : parseInt(data.promize_tab_attribute_id),\n                            promize_attribute_values_id : attributeData.promize_attribute_image_values_id,\n                        })\n                    })\n                    let tempObj = {\n                        data : tabAttributeValues,\n                        obj : {modelName : 'promize_tab_image_attribute_values'}\n                    }\n                    tabAttributeValues.length > 0 && this.props.dispatch(linkTabAttributeClipartValues(tempObj))\n                }else if(attributeData.promize_attribute_text_values.length > 0){\n                    attributeData.promize_attribute_text_values.map((attributeData,index)=>{\n                        tabAttributeValues.push({\n                            promize_tab_attribute_id : parseInt(data.promize_tab_attribute_id),\n                            promize_attribute_values_id : attributeData.promize_attribute_text_values_id,\n                        })\n                    })\n                    let tempObj = {\n                        data : tabAttributeValues,\n                        obj : {modelName : 'promize_tab_text_attribute_values'}\n                    }\n                    tabAttributeValues.length > 0 && this.props.dispatch(linkTabAttributeClipartValues(tempObj))\n                }\n               \n            })\n        }\n    }\n    /**\n     * save section Tab Attribute value\n     * @param {*} data return data from linkTabAttributeValues Api\n     */\n    saveTabAttributeValuesList(data){\n        let {tabs} = this.state\n        if(data){\n            let promize_tab_attribute_id = data[0].promize_tab_attribute_id;\n            Object.keys(tabs).map((key,index)=>{\n                if(tabs[key].tab_attribute && tabs[key].tab_attribute[promize_tab_attribute_id]){\n                    let tab_attribute = tabs[key].tab_attribute[promize_tab_attribute_id] || {};\n                    data.map((value,index)=>{\n                        tab_attribute.tab_attribute_values = tab_attribute.tab_attribute_values || {}\n                        if(value.promize_tab_attribute_values_id){\n                            tab_attribute.tab_attribute_values[value.promize_tab_attribute_values_id] = {...value}\n                        }else if(value.promize_tab_clipart_attribute_values_id){\n                            tab_attribute.tab_attribute_values[value.promize_tab_clipart_attribute_values_id] = {...value}\n                        }else if(value.promize_tab_image_attribute_values_id){\n                            tab_attribute.tab_attribute_values[value.promize_tab_image_attribute_values_id] = {...value}\n                        }else if(value.promize_tab_text_attribute_values_id){\n                            tab_attribute.tab_attribute_values[value.promize_tab_text_attribute_values_id] = {...value}\n                        }\n                    })\n                    tabs[key].tab_attribute[promize_tab_attribute_id] = tab_attribute;\n                    this.setState({tabs})\n                }\n            })\n        }\n    }\n    saveTabAttributeValues(data){\n        let {tabs} = this.state\n        Object.keys(tabs).map((key,index)=>{\n            if(tabs[key].tab_attribute[data.promize_tab_attribute_id]){\n                let tab_attribute = tabs[key].tab_attribute[data.promize_tab_attribute_id] || {};\n                tab_attribute.tab_attribute_values = tab_attribute.tab_attribute_values || {}\n                tab_attribute.tab_attribute_values[data.promize_tab_attribute_values_id] = {...data}\n                tabs[key].tab_attribute[data.promize_tab_attribute_id] = tab_attribute\n                this.setState({tabs})\n            }\n        })\n    }\n    saveTabImage(data){\n        let {currnetTabId,tabs} = this.state\n        if(currnetTabId && tabs[currnetTabId]){\n            this.props.dispatch(saveTab({promize_tab_id:tabs[currnetTabId].promize_tab_id,tab_icon:data.path}))\n        }\n        this.setState({currnetTabId: ''})\n    }\n    /**\n     * Create Tab\n     * @param {HtmEvent | Object} e \n     */\n    createTab(e,sectIndex){\n        let {tab} = this.state\n        this.props.dispatch(saveTab({...tab,promize_section_id:sectIndex}))\n    }\n    /**\n     * add section\n     */\n    addSection() {\n        this.setState({editSection:{show:false}})\n        this.props.dispatch(saveSection({\n            promize_customizer_id: this.props.state.fields.promize_customizer_id,\n            section_name: \"Section Name\",\n            sort_id:1\n        }))\n    }\n    /**\n     * Update the tab attribute values\n     * @param {object} data \n     */\n    updateTabAttributeValues(data,type){\n        if(type == \"text\"){\n\n        }else{\n            this.props.dispatch(saveTabAttributeValues({\n                ...data\n            }))\n        }\n        \n    }\n    /**\n     * Update Tab Images\n     * @param {HtmlEvent | Object} e Html Element\n     * @param {string} fieldName Field Name\n     */\n    updateTabImages(data){\n        let {tabs} = this.state\n        if(data && tabs){\n            tabs[data.promize_tab_id] = {\n                ...tabs[data.promize_tab_id],\n                ...data\n            }\n            this.setState({tabs})\n            this.props.dispatch(saveTab({...data}))\n        }\n    }\n    onChangeHandler = (e)=>{\n        e.preventDefault()\n        let {tabs} = this.state;\n        let promize_tab_id = e.target ? parseInt(e.target.getAttribute('promize_tab_id')) : ''\n        if(promize_tab_id && tabs){\n            let selectedTab = tabs[promize_tab_id] \n            let style = selectedTab.tab_style ? JSON.parse(selectedTab.tab_style) : {display:1, height:50, width:50}\n            style.display = e.target.value ? parseInt(e.target.value) : 1;\n            selectedTab = {\n                ...tabs[promize_tab_id] ,\n                tab_style : JSON.stringify(style)\n            }\n            tabs[promize_tab_id] = selectedTab\n            this.setState({tabs})\n            this.props.dispatch(saveTab(tabs[promize_tab_id]))\n        }\n    }\n    /**\n     * On Drag Start\n     * @param {Event | Object} ev event object from the Drag\n     * @param {Object} item The drag Item\n     * @param {number} reorder Reorder number\n     */\n    onDragStart = (ev, item, reorder) => {\n        ev.dataTransfer.setData(\"id\", item[\"promize_attribute_id\"]);\n        ev.dataTransfer.setData(\"reorder\", reorder);\n        ev.dataTransfer.effectAllowed = \"copy\";\n    }\n    /**\n     * On Drop\n     * @param {Event | Object} ev event object from the Drag\n     * @param {number} sectIndex Index of the section\n     * @param {number} dropIndex Index of the drop positon \n     */\n    onDrop = (ev, sectIndex, dropIndex) => {\n        let id = ev.dataTransfer.getData(\"id\");\n        if(dropIndex != null && sectIndex != null){\n            this.props.attributes.response.data.map((data, index) => {\n                if(data.promize_attribute_id == id) this.addAttributeToTab(ev, data, sectIndex, dropIndex);\n            });\n        }\n        this.setState({ highlight: false });\n    };\n    /**\n     * add Tab to section\n     * \n     * @param {HtmlEvent | Object} e Html Event link click\n     * @param {number} tabdata Tab data\n     * @param {number} sectIndex section index\n     */\n    addTabToSection(e, tabdata, sectIndex) {\n        e.preventDefault();\n        let sections = this.state.sections;\n        if (sections[sectIndex].tabs == undefined) {\n            sections[sectIndex].tabs = [];\n        }\n        let selectedTabs = sections[sectIndex].tabs;\n        selectedTabs.push(tabdata);\n        sections[sectIndex].tabs = selectedTabs;\n        this.setState({ sections });\n    }\n    addAttributeToTab(e, tabdata, sectIndex, dropIndex){\n        e.preventDefault();\n        this.props.dispatch(saveTabAttribute({\n            promize_tab_id: dropIndex,\n            promize_attribute_id: tabdata.promize_attribute_id,\n            sort_id: 1\n        }))\n    }\n    /**\n     * Tab Drag Start\n     * @param {Event | Object} ev Event Obect\n     * @param {Object} item Tab promize attribute\n     * @param {Object} startIndex Start Index\n     */\n    onTabDragStart = (ev, item, startIndex) => {\n        ev.dataTransfer.setData(\"startIndex\", startIndex);\n        ev.dataTransfer.setData(\"key\", \"tab\")\n        ev.dataTransfer.effectAllowed = \"copy\";\n        //this.openTab(ev, '', '');\n    }\n    onTabDragEnter = (ev, dropIndex, sectIndex) =>{\n       // ev.preventDefault();\n        ev.target.style['background'] = '';\n       // $(ev.target).removeClass(\"drag-effect\"); \n    }\n    onTabDragOver  = (ev, dropIndex, sectIndex) => {\n       // ev.preventDefault();\n        if(ev.target.getAttribute('class') == \"promize-widget-header\"){\n            ev.target.style['background'] = 'lightblue';\n        }\n       // $(ev.target).addClass(\"drag-effect\"); \n       ev.dataTransfer.effectAllowed = \"copy\";\n       \n    };\n    onTabDrop = (ev, dropIndex, sectIndex) => {\n        ev.target.style['background'] = '';\n        //$(ev.target).removeClass(\"drag-effect\"); \n        let startIndex = ev.dataTransfer.getData(\"startIndex\");\n        let key = ev.dataTransfer.getData(\"key\");\n        if(key && key == 'tab'){\n            let tabs = [], othertabs = [], tabsObject = {};\n            let tabState = this.state.tabs;\n            Object.keys(tabState).map((key, index)=>{\n                if(parseInt(tabState[key].promize_section_id) == parseInt(sectIndex) && tabState[key].is_sub_tab == 0){\n                    tabs.push(tabState[key])\n                }else{\n                    othertabs.push(tabState[key])\n                }\n            })\n            let list = tabs.sort((a, b)=>{\n                return a.sort_id - b.sort_id\n            })\n            let orderedTabs = this.reorderTabInSection(list, parseInt(startIndex), parseInt(dropIndex));\n            let Obj = {\"data\" : orderedTabs,\n                \"obj\" : {modelName:\"promize_tab\", idKey:\"promize_tab_id\"}}\n            this.props.dispatch(updateBulkRecord(Obj));\n            orderedTabs.length > 0 && orderedTabs.map((data, index)=>{\n                tabsObject[data.promize_tab_id] = data;\n            })\n            othertabs.length > 0 && othertabs.map((data, index)=>{\n                tabsObject[data.promize_tab_id] = data;\n            })\n            this.setState({tabs : tabsObject});\n        }\n    };\n\n    onSubTabDragStart = (ev, item, startIndex) => {\n        ev.dataTransfer.setData(\"subTabStartIndex\", startIndex);\n        ev.dataTransfer.setData(\"subTabkey\", \"subtab\")\n        ev.dataTransfer.effectAllowed = \"copy\";\n    }\n    onSubTabDragOver = ev => {\n       // ev.preventDefault();\n        ev.dataTransfer.dropEffect = \"copy\";\n    };\n    onSubTabDrop = (ev, dropIndex, sectIndex, tabIndex) => {\n        let startIndex = ev.dataTransfer.getData(\"subTabStartIndex\");\n        let key = ev.dataTransfer.getData(\"subTabkey\");\n        let list = '';\n        if(key && key == 'subtab'){\n            let tabs = [];\n            let tabState = this.state.tabs;\n            list = tabState[tabIndex].promize_sub_tabs\n            let orderedAttributes = this.reorderAttributeInTab(list, parseInt(startIndex), parseInt(dropIndex)); \n            tabState[tabIndex].promize_sub_tabs = orderedAttributes\n            let Obj = {\"data\" : orderedAttributes,\n                \"obj\" : {modelName:\"promize_sub_tab\", idKey:\"promize_sub_tab_id\"}}\n            this.props.dispatch(updateBulkRecord(Obj));\n            this.setState({tabs});\n        }\n    };\n\n    onAttributeDragStart = (ev, item, startIndex) => {\n         ev.dataTransfer.setData(\"keyval\", \"attribute\")\n         ev.dataTransfer.setData(\"attrStartIndex\", startIndex);\n         ev.dataTransfer.effectAllowed = \"copy\";\n     }\n     onAttributeDragOver = ev => {\n       //  ev.preventDefault();\n         ev.dataTransfer.dropEffect = \"copy\";\n     };\n     onAttributeDrop = (ev, dropIndex, sectIndex, tabIndex) => {\n        let startIndex = ev.dataTransfer.getData(\"attrStartIndex\"); \n        let key = ev.dataTransfer.getData(\"keyval\");\n        let list = '';\n        if(key && key == 'attribute'){\n            let tabs = [];\n            let tabState = this.state.tabs;\n            list = tabState[tabIndex].promize_tab_attributes\n            let orderedAttributes = this.reorderSubTabInTab(list, parseInt(startIndex), parseInt(dropIndex)); \n            tabState[tabIndex].promize_tab_attributes = orderedAttributes\n            let Obj = {\"data\" : orderedAttributes,\n                \"obj\" : {modelName:\"promize_tab_attribute\", idKey:\"promize_tab_attribute_id\"}}\n            this.props.dispatch(updateBulkRecord(Obj));\n            this.setState({tabs});\n        }\n     };\n    /**\n     * Add Suby Tab to the Tab\n     * @param {Html | Object} e Html Event link click \n     */\n    addSubTabToTab(e) {\n        e.preventDefault();\n        let sectIndex = this.state.subTabIndex.sectIndex;\n        let tabIndex = this.state.subTabIndex.tabIndex;\n        let sections = this.state.sections;\n        let subtabs = this.state.selectedSubTabs;\n        if (sections[sectIndex].tabs[tabIndex].sub_tabs == undefined) {\n            sections[sectIndex].tabs[tabIndex].sub_tabs = [];\n        }\n        let selectedsub_tabs = sections[sectIndex].tabs[tabIndex].sub_tabs;\n        this.props.attributes.response.data.map((data, index) => {\n            if (subtabs.includes(data.promize_attribute_id)) {\n                selectedsub_tabs.push(data);\n            }\n        });\n        sections[sectIndex].tabs[tabIndex].sub_tabs = selectedsub_tabs;\n        this.setState({ sections, selectedSubTabs: [] });\n        this.closeTabSelectionPopup(e);\n    }\n    /**\n     * Reorder Tab in section\n     * @param {Array} list Reorder List\n     * @param {number} startIndex Start Index\n     * @param {number} endIndex End Index\n     * @returns {Array} result of the reorder\n     */\n    reorderTabInSection(list, startIndex, endIndex) {\n        let result = Array.from(list);\n        result = result.filter(function (obj) {\n            return obj.is_sub_tab !== 1;\n        });\n        let counter = 0;\n        const [removed] = result.splice((startIndex-1), 1);\n        result.splice((endIndex-1), 0, removed);\n        result.map((data, index)=>{\n            delete data.created_date;\n            delete data.updated_date;\n            if(data.is_sub_tab != 1){\n                counter = counter+ 1\n                data.sort_id = counter;\n            }\n        })\n        return result;\n    }\n    reorderSubTabInTab(list, startIndex, endIndex) {\n        let result = Array.from(list);\n        let counter = 0;\n        const [removed] = result.splice((startIndex-1), 1);\n        result.splice((endIndex-1), 0, removed);\n        result.map((data, index)=>{\n            delete data.created_date;\n            delete data.updated_date;\n            counter = counter+ 1\n            data.sort_id = counter;\n        })\n        return result;\n    }\n\n    reorderAttributeInTab(list, startIndex, endIndex) {\n        let result = Array.from(list);\n        let counter = 0;\n        const [removed] = result.splice((startIndex-1), 1);\n        result.splice((endIndex-1), 0, removed);\n        result.map((data, index)=>{\n            delete data.created_date;\n            delete data.updated_date;\n            data.sort_id = counter;\n            counter = counter+ 1\n        })\n        return result;\n    }\n\n    /**\n     * delete Tab from the section\n     * @param {number} tabIndex Index of the Tab\n     * @param {number} sectIndex Index of the Section\n     */\n    deleteTabFromsection(tabIndex, sectIndex, parentTabId) {\n        let popup = {};\n        const {tabs} = this.state;\n        popup.title = \"Remove Tab\";\n        popup.content = 'Do you want to remove this tab?';\n        popup.submit = e => {\n            this.deleteTabFromsectionFn(tabIndex, sectIndex, parentTabId, tabs)\n        }\n        this.setState({popup})\n    }\n    deleteTabFromsectionFn = (tabIndex, sectIndex, parentTabId, tabs) => {\n        let obj = {\n            ids : [tabIndex],\n            modelName:\"promize_tab\",\n            idKey:\"promize_tab_id\",\n        }\n        if(tabs[tabIndex].is_sub_tab && tabs[parentTabId.promize_tab_id].promize_sub_tabs){\n        tabs[parentTabId.promize_tab_id].promize_sub_tabs = tabs[parentTabId.promize_tab_id].promize_sub_tabs.filter((data)=>{\n            return data.child_tab_id != tabIndex\n        })\n        }\n        delete tabs[tabIndex]\n        this.props.dispatch(deleteRecord(obj))\n        this.setState({tabs});\n    }\n    /**\n     * Open Tab Index\n     * @param {HtmlEvent | Object } e \n     * @param {number} tabIndex Index of the Tab\n     * @param {number} sectIndex Index of the Section\n     */\n    openTab(e, tabIndex, sectIndex) {\n      //  e.preventDefault();\n        let tab = this.state.openTab;\n        if (parseInt(tab.tabIndex) !== parseInt(tabIndex)) {\n            tab.sectIndex = parseInt(sectIndex);\n            tab.tabIndex = parseInt(tabIndex);\n        } else {\n            tab.sectIndex = '';\n            tab.tabIndex = '';\n        }\n        this.setState({ openTab: tab });\n\n    }\n    /**\n     * Open Tab Selection Popup\n     * @param {HmltEvent | Object} e Html Event Object\n     * @param {Object} tabData Tab Data Object\n     * @param {number} sectIndex Index of the section\n     * @param {number} tabIndex Index of the tab\n     */\n    openTabSelectionPopup(e, tabData, sectIndex, tabIndex) {\n        let {tab}  = this.state\n        e.preventDefault();\n        let obj ={\n            ...tab,\n            is_sub_tab : 1,\n            promize_section_id : parseInt(tabData.sectIndex)\n        }\n        this.setState({parentTabId : parseInt(tabData.tabIndex)},()=>{\n            this.props.dispatch(saveTab(obj));\n        })\n        // let subTabIndex = this.state.subTabIndex;\n        // subTabIndex.sectIndex = sectIndex;\n        // subTabIndex.tabIndex = tabIndex;\n        // this.setState(subTabIndex);\n        // $('.promize-modal-cover-tab-selection').show();\n    }\n    /**\n     * Close Tab Selection Popup\n     * @param {HmltEvent | Object} e Html Event Object\n     */\n    closeTabSelectionPopup(e) {\n        e.preventDefault();\n        $('.promize-modal-cover-tab-selection').hide();\n    }\n    /**\n     * Select Sub tab\n     * @param {HmltEvent | Object} e Html Event Object\n     */\n    selectedSubtab(e) {\n        e.preventDefault();\n        let subTabs = this.state.selectedSubTabs;\n        subTabs.push(parseInt(e.target.id));\n        this.setState({ selectedSubTabs: subTabs });\n    }\n    /**\n     * Open Set Position Popup\n     * @param {HtmlEvent | Object} e Html Event Object\n     * @param {Object} tabData Tab Data Object\n     * @param {number} sectIndex Index of section\n     * @param {number} tabIndex Index of tab\n     * @param {Object} optionData Option Data Object\n     */\n    openSetTabPositionPopup(e, data) {\n        e.preventDefault();\n        this.setState({setTabPosition:{\n            show:true,\n            data:{\n                ...data\n            }\n        }})\n    }\n     /**\n     * Open Set Boundary Popup\n     * @param {HtmlEvent | Object} e Html Event Object\n     * @param {Object} Data Option Data Object\n     */\n    openSetBoundaryPopup(e, data) {\n        e.preventDefault();\n        this.setState({setBoundary:{\n            show:true,\n            data:{\n                ...data\n            }\n        }})\n    }\n    /**\n     * Open Set Position Popup\n     * @param {HtmlEvent | Object} e Html Event Object\n     * @param {Object} tabData Tab Data Object\n     * @param {number} sectIndex Index of section\n     * @param {number} tabIndex Index of tab\n     * @param {Object} optionData Option Data Object\n     */\n    openSetOptionPositionPopup(e, data) {\n        e.preventDefault();\n        let setOptionPosition = this.state.setOptionPosition\n        this.setState({setOptionPosition:{\n            ...setOptionPosition,\n            show:true,\n            data:{\n                ...data\n            }\n        }})\n    }\n    /**\n     * Close popup\n     * @param {Html | Object} e \n     */\n    closePopup(e) {\n        e && e.preventDefault();\n        this.setState({setOptionPosition:{\n            show:false,\n            data:{}\n        },setTabPosition:{\n            show:false,\n            data:{}\n        },setBoundary:{\n            show:false,\n            data:{}\n        },popup: false})\n    }\n    /**\n     * Handle Filed Blur\n     * @param {HtmlEvent | Object} e Html Elemet\n     * @param {string} fieldName Field Name\n     */\n    handleFieldBlur(e, fieldName, tabIndex){\n        e.preventDefault();\n        let {tabs} = this.state;\n        if(tabs[tabIndex]){\n            this.props.dispatch(saveTab({promize_tab_id:tabs[tabIndex].promize_tab_id,[fieldName]:e.target.value}))\n        }\n    }\n    /**\n     * Handle the file changes\n     * @param {HtmlEvent | Object} e Html Elemet\n     * @param {string} fieldName Field Name\n     * @param {number} tabIndex Tab Index\n     */\n    handleFieldChange(e, fieldName, tabIndex){\n        e.preventDefault();\n        let {tabs} = this.state;\n        if(tabs[tabIndex]){\n            tabs[tabIndex][fieldName] = e.target.value;\n            this.setState({tabs});\n        }\n    }\n        /**\n     * Handle Filed Blur\n     * @param {HtmlEvent | Object} e Html Elemet\n     * @param {string} fieldName Field Name\n     */\n    handleStyleFieldBlur = (e, fieldName, tabIndex) => {\n        e.preventDefault();\n        let {tabs} = this.state;\n        if(tabs[tabIndex]){\n            let selectedTab = tabs[tabIndex] \n            let style = selectedTab.tab_style ? JSON.parse(selectedTab.tab_style) : {display:1, height:50, width:50}\n            style[fieldName]  = e.target.value ? parseInt(e.target.value) : null;\n            selectedTab = {\n                ...tabs[tabIndex] ,\n                tab_style : JSON.stringify(style)\n            }\n            tabs[tabIndex] = selectedTab\n            this.props.dispatch(saveTab(tabs[tabIndex]))\n        }\n    }\n    /**\n     * Handle the file changes\n     * @param {HtmlEvent | Object} e Html Elemet\n     * @param {string} fieldName Field Name\n     * @param {number} tabIndex Tab Index\n     */\n    handleStyleFieldChange = (e, fieldName, tabIndex) => {\n        e.preventDefault();\n        let {tabs} = this.state;\n        if(tabs[tabIndex]){\n            let selectedTab = tabs[tabIndex] \n            let style = selectedTab.tab_style ? JSON.parse(selectedTab.tab_style) : {display:1, height:50, width:50}\n            style[fieldName]  = e.target.value ? parseInt(e.target.value) : null;\n            selectedTab = {\n                ...tabs[tabIndex] ,\n                tab_style : JSON.stringify(style)\n            }\n            tabs[tabIndex] = selectedTab\n            this.setState({tabs})\n        }\n    }\n    /**\n     * Handler Switch Change\n     * @param {Html | Object} e \n     * @param {string} fieldName \n     * @param {number} tabIndex \n     */\n    handleSwitchChange(e, fieldName, tabIndex){\n       // e.preventDefault();\n        let {tabs} = this.state\n        let value = false;\n        if(e.target.checked){\n            value = true\n        }\n        let checkedVal = value ? 1 : 0\n        if(tabs[tabIndex]){\n            tabs[tabIndex][fieldName] = value;\n            this.setState({tabs},()=>{\n                this.props.dispatch(saveTab({promize_tab_id:tabs[tabIndex].promize_tab_id,[fieldName]:checkedVal}))\n            });\n        }\n    }\n\n    /**\n     * \n     * @param {Object} tabData Tab Data\n     * @param {number} sectIndex Index of the section\n     * @param {*} tabIndex Index of the section\n     */\n    actionButtons(tabData, sectIndex, tabIndex, parentTabData) {\n        return (<React.Fragment>\n            {!parentTabData && <li>\n                <button className=\"btn btn-tbl\" onClick={(e) => { this.openTabSelectionPopup(e, {tabData, sectIndex, tabIndex}) }} title=\"Add Subtab\">\n                    <i className=\"fa fa-folder-open\"></i><span class=\"promize-btn-description\">Add Sub-Tab</span>\n                </button>\n            </li>}\n            <li>\n                <button className=\"btn btn-tbl\" onClick={(e) => { this.openSetTabPositionPopup(e, {tabData, sectIndex, tabIndex}) }} title=\"Set Tab Position\">\n                    <i className=\"fa fa-image\"></i><span class=\"promize-btn-description\">Tab Image</span>\n                </button>\n            </li>\n            <li>\n                <button className=\"btn btn-tbl\" onClick={(e) => { this.deleteTabFromsection(parseInt(tabIndex), parseInt(sectIndex),parentTabData) }} title=\"Delete\">\n                    <i className=\"fa fa-trash-alt\"></i><span class=\"promize-btn-description\">Remove</span>\n                </button>\n            </li>\n        </React.Fragment>\n        )\n    }\n    /**\n     * tab Selection Popup\n     */\n    tabSelectionPopup() {\n        return (<div className=\"promize-modal-cover-tab-selection\" style={{ \"display\": \"none\" }}>\n            <div className=\"promize-modal modal-sm\">\n                <div className=\"promize-modal-header\">\n                    <h3 className=\"modal-title\">\n                        <span>\n                            Select Sub-Tabs\n                    </span>\n                    </h3>\n                </div>\n                <div className=\"promize-modal-body\">\n                    <div className=\"promize-options\">\n                        <Search />\n                        <div className=\"promize-dragable-container\">\n                            {(this.props.attributes.response.data != undefined) &&\n                                <CheckBox {...this.props}\n                                    currentComponent={this}\n                                    dataList={this.props.attributes.response.data}\n                                    fieldName={'TabList'}\n                                    value={this.state.selectedSubTabs}\n                                    onChangeHandler={this.selectedSubtab}\n                                    labelName={\" \"}\n                                />\n                            }\n                        </div>\n                    </div>\n                </div>\n                <div className=\"promize-modal-footer df df-end\">\n                    <button className=\"btn btn-promize-secondary\" onClick={(e) => { this.closeTabSelectionPopup(e) }}>Cancel</button>\n                    <button className=\"btn btn-promize-primary\" onClick={(e) => { this.addSubTabToTab(e) }}>Submit</button>\n                </div>\n            </div>\n        </div>\n        )\n    }\n    setCurrentTab(currnetTabId){\n        this.setState({currnetTabId})\n    }\n    /**\n     * \n     * @param {Object} tabData Tab Data object\n     * @param {number} sectIndex Index of section\n     * @param {number} tabIndex Index of Tab\n     */\n    addSelectedtab(tabData, sectIndex, tabIndex, indexVal) {\n        if (tabData.is_sub_tab == 1) {\n            return ''\n        }\n        return <Tabs key={tabIndex} {...this.props} indexVal={indexVal} onDrop={this.onDrop} onTabDragStart={this.onTabDragStart} onTabDragOver={this.onTabDragOver} onTabDragEnter={this.onTabDragEnter}  onTabDrop={this.onTabDrop} onSubTabDragStart={this.onSubTabDragStart} onSubTabDragOver={this.onSubTabDragOver} onSubTabDrop={this.onSubTabDrop} onAttributeDragStart={this.onAttributeDragStart} onAttributeDragOver={this.onAttributeDragOver} onAttributeDrop={this.onAttributeDrop} tabData={tabData} sectIndex={sectIndex} tabIndex={tabIndex} state={this.state} actionButtons={this.actionButtons} openTab={this.openTab} deleteAttributeFromTab={this.deleteAttributeFromTab} onChangeHandler={this.onChangeHandler} handleFieldBlur={this.handleFieldBlur} handleFieldChange={this.handleFieldChange} handleStyleFieldChange={this.handleStyleFieldChange} handleStyleFieldBlur={this.handleStyleFieldBlur} handleSwitchChange={this.handleSwitchChange} setCurrentTab={this.setCurrentTab} displayNoData={this.displayNoData} openSetOptionPositionPopup={this.openSetOptionPositionPopup} openSetBoundaryPopup={this.openSetBoundaryPopup} selectedTabsList={this.selectedTabsList} tabThumbnailImages = {this.tabThumbnailImages} />\n    }\n    /**\n     * Select Tab \n     * @param {Object} tabData Tab data Object\n     * @param {number} sectIndex Index Section\n     * @param {*} tabIndex Index of tab\n     * @param {*} subTabIndex Index of subtab\n     */\n    selectedTabsList(tabData, sectIndex, tabIndex, subTabIndex) {\n        return <div key={subTabIndex} className=\"promize-dragable-tab-container mr-10\" >\n            <div className=\"promize-widget mb-10\">\n                <div className=\"promize-widget-header\">\n                    <h3 className=\"promize-widget-title\">\n                        {tabData.attribute_name}\n                    </h3>\n                </div>\n            </div>\n        </div>\n    }\n    editSection = (id,keyData) =>{\n        let sectionX = this.sectionRefs[keyData].getBoundingClientRect().x || 0\n        let sectionWrapperX = this.refs[\"sectionWrapper\"].getBoundingClientRect().x || 0\n        let sectionEdit = this.state.sections[id]\n        let x = sectionX - sectionWrapperX \n        this.setState({editSection:{show:true,data:{section_id:id,section:sectionEdit,x}}})\n    }\n    sectionEdit = e => {\n        const editSection = this.state.editSection\n        const section = editSection.data.section\n        editSection.data.section = {...section,\n            section_name: e.target.value || \"\"\n        }\n        this.setState({editSection:{...editSection}})\n    }\n    saveSectionEdit = (e,editSection) => {\n        toastr.success(\"Section Name Updated\");\n        this.props.dispatch(saveSection({\n            promize_section_id:editSection.data.section.promize_section_id, \n            section_name:editSection.data.section.section_name\n        }))\n        this.setState({editSection:{show:false}})\n    }\n    sectionDelete = (e,editSection) => {\n        let popup = {};\n        popup.title = \"Remove Section\";\n        popup.content = 'Do you want to remove this section?';\n        popup.submit = () => {\n            this.sectionDeletefn(e,editSection)\n        }\n        this.setState({popup})\n    }\n    sectionDeletefn = (e,editSection) => {\n        const {sections} = this.state;\n        let sectionIndex = editSection.data.section.promize_section_id\n        let obj = {\n            ids : [sectionIndex],\n            modelName:\"promize_section\",\n            idKey:\"promize_section_id\",\n        }\n        delete sections[sectionIndex]\n        this.props.dispatch(deleteRecord(obj))\n        let activeSectionId = Object.keys(sections)[0]\n        this.setState({sections,activeSectionId,editSection:{show:false}});\n    }\n    /**\n     * Add section area\n     */\n    addSectionArea() {\n        const {sections,tabs,editSection} = this.state;\n        let {activeSectionId} = this.state;\n        let counter = 0\n        let tabsArray = []\n        if(tabs){\n            tabsArray = Object.entries(tabs).sort(function(a, b) {\n                return a[1].sort_id - b[1].sort_id;\n             })\n        }\n        let sectionRows,activeSection;\n        if(!activeSectionId && sections){\n            activeSectionId = Object.keys(sections)[0]\n        }\n        activeSection = sections[activeSectionId]\n        if (Object.keys(sections).length > 0) {\n            sectionRows = <React.Fragment>\n                <div className=\"promize-prdt-section-container mb-15\" ref=\"sectionContainer\">\n                    <ul className=\"promize-prdt-section-list\" style={{width:(this.state.sectionWrapperWidth?this.state.sectionWrapperWidth+\"px\":\"100%\")}} ref=\"sectionWrapper\">\n                        {Object.keys(sections).map((keyData, sectIndex) => {\n                            let data = sections[keyData];\n                            return <li className={keyData == activeSection.promize_section_id && \"active\"} ref={ref => this.setRef(ref,keyData)}>\n                                <div className=\"promize-section-name\" onClick={(e)=>{e.preventDefault();this.setState({activeSectionId:keyData})}}>\n                                    <span className=\"edit-icon\" onClick={e => this.editSection(keyData,keyData)}><i className=\"fa fa-pencil-alt\"></i></span>\n                                    <span>{data.section_name}</span>\n                                    <span className=\"promize-section-status active\"></span>\n                                </div>\n                            </li>                      \n                        })}\n                    </ul>\n                    <div className=\"pormize-abs-rght\" ref=\"sectionAddBtn\">\n                        <button className=\"btn btn-links\" onClick={(e) => this.addSection()}><i className=\"fa fa-plus\"></i> Add Section</button>\n                    </div>\n                    {editSection.show && <div className=\"promize-card promize-card-edit\" style={{left:editSection.data.x+\"px\"}}>\n                    <div className=\"promize-card-body\">\n                            <Input\n                                form={this.section}\n                                fieldName={'section_name'}\n                                value={editSection.data.section.section_name}\n                                labelName={\"Section Name\"}\n                                validation={false}\n                                onChange={this.sectionEdit}\n                            />\n                            <div className=\"df df-end\">\n                                {Object.keys(sections).length > 1 && <button className=\"btn btn-promize-secondary\" onClick={e => this.sectionDelete(e,editSection)}><i className=\"fa fa-trash\"></i> Remove</button>}\n                                <button className=\"btn btn-promize-primary\" onClick={e => this.saveSectionEdit(e,editSection)}>Save</button>\n                            </div>\n                            \n                    </div>\n                </div>}\n                </div>\n                {activeSection &&\n                    <div className=\"promize-dragable-container \">\n                        {tabsArray && tabsArray.length > 0 &&\n                            tabsArray.map((tabKey, tabIndex) => {\n                            if(tabKey[1].promize_section_id == activeSection.promize_section_id){\n                                if(tabKey[1].is_sub_tab == 1) return ''\n                                counter = counter +1\n                                return this.addSelectedtab(tabKey[1], activeSection.promize_section_id, tabKey[0], counter)\n                            }\n                        })}\n                    \n                        <div className=\"text-right\">\n                            <button onClick={(e)=>this.createTab(e,activeSection.promize_section_id)} className=\"btn btn-promize-primary\">Add Tab</button>\n                        </div>\n                    </div>\n                }\n            </React.Fragment>\n        } else {\n            sectionRows = <React.Fragment>\n                <div>\n                    <button className=\"btn btn-rnd\" onClick={(e) => this.addSection()}><i className=\"fa fa-plus\"></i> Add Section</button>\n                </div>\n                {this.displayNoData(\"No Sections available\")}\n            </React.Fragment>\n        }\n        return sectionRows;\n    }\n    displayNoData(message) {\n        return <div className=\"promize-no-data\">\n            <img src={noData} />\n            <p className=\"mt-10\">{message}</p>\n        </div>\n    }\n    attributeIcon(type){\n        let icon = 'fa fa-grin-hearts'\n        if(type == 'text'){\n            icon = 'fa fa-font'\n        }else if(type == 'image'){\n            icon = 'fa fa-images'\n        }else if(type == 'option'){\n            icon = 'fa fa-cube'\n        }\n        return <i className={icon}></i>\n    }\n    displayAttributeList() {\n        const {sections,searchText} = this.state;\n        let attributeData = this.props.attributes.response.data\n        if(searchText){\n            attributeData = attributeData.filter((attribute)=>{\n                let name = attribute.attribute_name.toLowerCase()\n                return name.indexOf(searchText.toLowerCase()) !== -1\n            })\n        }\n        return (\n            <div className=\"promize-card\">\n                <div className=\"promize-card-header\">\n                    <div className=\"promize-card-title\">\n                        <h3>\n                            <span>Attributes List</span>\n                        </h3>\n                        <p className=\"promize-title-subtitle\">Drag and drop attributes to tabs</p>\n                    </div>\n                    <div className=\"promize-sm-card-action df-end\">\n                        <div className=\"tab-links\">\n                            <Link to={\"/attributes/add/\"} className=\"btn btn-links\"><i className=\"fa fa-plus\"></i> Add New</Link>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"promize-card-body\">\n                    <div className=\"promize-options\">\n                        <Search value={searchText} onChange={(e)=>{e.preventDefault();this.setState({searchText:(e.target.value||'')})}}/>\n                        <div className=\"promize-dragable-container mt-15\">\n                            <ul className=\"promize-dragable-list\">\n                                {( attributeData != undefined) &&\n                                    attributeData.map((data, index) => {\n                                        return <li className=\"mb-10\" key={index} draggable onDragStart={e => this.onDragStart(e, data, false)}>\n                                            <div className={\"dragable-items df ind\" + index}>\n                                                <div className=\"option-action\">\n                                                    <button className=\"option-btn\">\n                                                        <i className=\"fa fa-bars\"></i>\n                                                    </button>\n                                                </div>\n                                                <div className=\"option-name df-al-center pl-10 wd-100\">\n                                                    {this.attributeIcon(data.attribute_type)}{data.attribute_name}<Link to={\"/attributes/edit/\" + data.promize_attribute_id} ><i className=\"fa fa-eye\"></i></Link>\n                                                </div>\n                                            </div>\n                                        </li>\n                                    })}\n\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"promize-footer-actions\">\n                </div>\n            </div>\n        )\n    }\n    saveData(){\n        toastr.success(\"Records saved successfully\");\n        this.props.history.push('/products');\n    }\n\n    render() {\n        return <React.Fragment>\n            <div className=\"promize-page-title-wrapper df-sp-btwn\">\n                <h3 className=\"promize-page-title\">{this.props.state.fields.promize_customizer_name}</h3>\n                <button className=\"btn btn-promize-primary\" onClick={(e) => { this.saveData() }}>Save</button>\n            </div>\n            <div className=\"promize-row df\">\n                <div className=\"wd-70 mr-15\">\n                    {/* <div>{this.tabSelectionPopup()}</div> */}\n                        {this.state.setOptionPosition.show && <SetOptionPosition {...this.state} {...this.props} closePopup={this.closePopup} updateTabAttributeValues={this.updateTabAttributeValues}/>}\n                        {this.state.setTabPosition.show && <SetTabPosition   {...this.state} {...this.props} closePopup={this.closePopup} imageForm={this.tabImages} updateTabImages={this.updateTabImages}/>}\n                        {this.state.setBoundary.show && <SetBoundary   {...this.state} {...this.props} closePopup={this.closePopup} imageForm={this.tabImages} updateTabAttributeValues={this.updateTabAttributeValues}/>}\n                    <div> {this.addSectionArea()}</div>\n                </div>\n                <div className=\"wd-30 promize-sticky-20\">\n                    {this.displayAttributeList()}\n                </div>\n            </div>\n            {this.state.popup && <Popup {...this.state.popup} submitButton=\"Remove\" cancel={this.closePopup}/>}\n        </React.Fragment>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        attributes: state.attributes,\n        section: state.section,\n        tab: state.tab,\n        subTab: state.subTab,\n        tabAttribute: state.tabAttribute,\n        tabAttributevalues: state.tabAttributevalues,\n        tabAttributevalueslist: state.tabAttributevalueslist,\n        tabThumbnailImage: state.tabThumbnailImage\n    };\n}\n\n\nexport default connect(mapStateToProps)(SectionForms);","import React, { Component } from 'react';\nimport toastr from 'toastr';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport Form from '../../utility/Form';\nimport Forms,{initialState,validation} from './Forms';\nimport { save,get,uploadBaseImage,saveSection } from '../../actions/products';\nimport SectionForms, { sectionvalidation } from './sectionForm'\nimport {app} from '../../config/app';\nimport {generateUnqId} from './../../utility/Utility'\nimport Switchtoggle from '../../components/form/switchtoggle';\n\nclass Edit extends Component {\n    /*Handling events with React elements is very similar to handling events on DOM elements\n    * Inside a loop it is common to want to pass an extra parameter to an event handler.\n    *the e argument representing the React event will be passed as a second argument after the ID.\n    *With an arrow function, we have to pass it explicitly,\n    *but with bind any further arguments are automatically forwarded\n    *The bind() method creates a new function that, when called, has its this keyword set to the provided value\n    *An arrow function expression has a shorter syntax than a function expression and does not have its own this, arguments, super, or new.target\n    */\n   \n    constructor(props){\n        super(props);\n        this.isEdit = true;\n\n        const formValidation = validation(props);\n\n        this.product = Form.getInstance(\n                this,formValidation,\n                (fields) => {\n                    this.props.dispatch(save(fields))\n                },\n                //file upload\n                (views) => {\n                    this.props.dispatch(uploadBaseImage(views, 'base_image', 'imageUpload'))\n                },\n                {}\n            );\n\n        this.state = initialState(this.isEdit);\n        this.state.view = {}\n        this.saveView = this.saveView.bind(this)\n        this.state.viewList = [];\n        this.initialState = initialState(this.isEdit);\n        this.state.openSection = false;\n        this.state.sections = {\n            promize_customizer_id: '',\n            section_name: '',\n            sort_id: '',\n            \"status\": true,\n        }\n        this.state.productDetails = ''\n        let sectValidation = sectionvalidation(props)\n        this.section = Form.getInstance(\n            this, sectValidation,\n            () => {\n                this.props.dispatch(saveSection(this.state.sections))\n            },\n            {},\n            {}\n        );  \n        this.saveView = this.saveView.bind(this)\n        this.updateView = this.updateView.bind(this)\n        this.deleteView = this.deleteView.bind(this)\n    }\n    /* componentDidMount() is invoked immediately after a component is mounted.\n    * Initialization that requires DOM nodes should go here.\n    * If you need to load data from a remote endpoint, this is a good place to instantiate the network request.\n   */\n    componentDidMount(){\n        if(this.props.match.params.id){\n            this.props.dispatch(get(this.props.match.params.id));\n        }\n    }\n    \n    /* componentWillReceiveProps() is invoked before a mounted component receives new props.\n    *  If you need to update the state in response to prop changes (for example, to reset it),\n    *  you may compare this.props and nextProps and perform state transitions using this.setState() in this method.\n    */\n    componentWillReceiveProps(newProps) {\n        if(!newProps.product.isFetching && !newProps.product.isError){\n            if(newProps.product.response.record && newProps.product.receiveType === 'editData'){\n                if(this.state.isEdit && this.props.match.params.id){\n                    this.setState({isEdit:false});\n                    let productDetails = newProps.product.response.record\n                    if(productDetails.model_image){\n                        productDetails.model_image = JSON.parse(productDetails.model_image)\n                    }\n                    let fields = _.pick(productDetails,['domain_id','modelName','promize_customizer_id','promize_customizer_name','status','model_image']);\n                    fields.model_image = (fields.model_image) ? fields.model_image : []\n                    this.initialState = {fields:fields};\n                    this.setState({fields,productDetails});\n                }\n            }else if(newProps.product.receiveType === 'postData'){\n               // toastr.success(newProps.product.response.message);\n                let fields = this.state.fields;\n                const newObj = Object.assign({}, fields, {\n                    promize_customizer_id: newProps.product.response.records.promize_customizer_id\n                });\n                this.setState({ fields: newObj,openSection:true })\n            }\n        }\n   }\n   /**\n    * save the view data\n    * @param {object} view \n    */\n   saveView(view) {\n        let {fields} = this.state;\n        let {model_image} = fields;\n        model_image.push({...view,\n            id: generateUnqId()\n        })\n        this.setState({fields: {\n            ...fields,\n                model_image: model_image\n            }\n        })\n    }\n     /**\n     * \n     * @param {number} id \n     * @param {object} view \n     */\n    updateView(id,view){\n        let {fields} = this.state;\n        let {model_image} = fields;\n        var index = _.findIndex(model_image, {id: id});\n        model_image.splice(index, 1, view);\n        this.setState({fields: {\n            ...fields,\n                model_image: model_image\n            }\n        })\n    }\n    /**\n     * Delete the Model Image\n     * @param {Number} id \n     */\n    deleteView(id){\n        let {fields} = this.state;\n        let {model_image} = fields;\n        _.remove(model_image,function(n) {\n            return n.id == id;\n        })\n        const newObj = {\n            ...fields,\n            model_image: model_image\n        }\n        this.setState({ fields: newObj})\n    }\n    render() {\n        const { product,section } = this.props;\n        let formProps = {\n            ...this.props,\n            \n        }\n        return <React.Fragment>\n        {!this.state.openSection && <div className=\"promize-card\">\n            <div className=\"promize-card-header\">\n                <div className=\"promize-card-title mb-10\">\n                    <h3>\n                        <span>Edit Product</span>\n                    </h3>\n                </div>\n                <div className=\"promize-card-action df-end\">\n                    <Switchtoggle {...this.state}\n                        labelName={'Status'}\n                        fieldName={'status'}\n                        dataName={'status'}\n                        id={1}\n                        value={this.state.fields.status}\n                        spanLabel={{ first: \"Active\", second: \"Inactive\" }}\n                        checkValue={{ first: true, second: false }}\n                        validation={false} \n                        form={this.section}\n                        />\n                </div>\n            </div>\n            <Forms {...this.props} currentComponent={this} saveView={this.saveView} updateView={this.updateView} deleteView={this.deleteView} form={this.product} product={product} state={this.state} reset={this.initialState} isEdit={false} />\n        </div>}\n        {this.state.openSection && <SectionForms {...this.props} currentComponent={this} form={this.section} section={section} state={this.state} isEdit={false} new={false} productDetails={this.state.productDetails}/>}\n    </React.Fragment>\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { product } = state;\n    return {\n        product\n    };\n}\n\nexport default connect(mapStateToProps)(Edit);\n","module.exports = __webpack_public_path__ + \"static/media/no-data.12573e6e.png\";"],"sourceRoot":""}